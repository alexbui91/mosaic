"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[778],{2778:function(e,a,l){l.d(a,{Z:function(){return ListPerformance}});var n=l(2253),t=l(4932),s=l(1309),i=l(5893),r=l(7294),o=l(1163),c=l(1664),d=l.n(c),m=l(7904),f=l(586),h=l(720),u=l(7389),x=l(8878),p=l(7324),j={song:"",fromDate:"",toDate:"",limit:20,performer:"",composer:"",class:""};function ListPerformance(e){var a=e.userId,l=(0,o.useRouter)(),c=(0,s._)((0,r.useState)("en"),2),v=c[0],g=c[1],N=(0,s._)((0,r.useState)([]),2),b=N[0],y=N[1],_=(0,s._)((0,r.useState)({}),2),D=_[0],k=_[1],w=(0,s._)((0,r.useState)(1),2),P=w[0],C=w[1],K=(0,s._)((0,r.useState)(j),2),Y=K[0],E=K[1],removePerformance=function(e){(0,x.sZ)(e.pid,function(){y(b.filter(function(a){return a.pid!==e.pid}))})},filterPerformance=function(e,a){(0,x.EZ)(a,Y.limit,e,function(a){C(e),y(a)},Y.song,Y.fromDate,Y.toDate,Y.performer,Y.composer,Y.class)},handleKeyDown=function(e){"Enter"==e.key&&search()},search=function(){filterPerformance(P,a)},changeDate=function(e,a){"fromDate"==a?E((0,t._)((0,n._)({},Y),{fromDate:e})):setToDate((0,t._)((0,n._)({},Y),{toDate:e}))},annotate=function(e){var a=e.pid;l.push("/annotation?pid=".concat(a))};return(0,r.useEffect)(function(){g((0,m.G3)()),k((0,m.PR)()),a?filterPerformance(1,a):filterPerformance(1)},[]),(0,i.jsx)("div",{className:"row",children:(0,i.jsxs)("div",{className:"col col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12",children:[(0,i.jsxs)("form",{className:"performance-form performance-list-form",onSubmit:function(e){e.preventDefault(),e.stopPropagation()},onKeyDown:function(e){"Enter"==e.key&&(e.preventDefault(),e.stopPropagation())},children:[(0,i.jsxs)("div",{className:"performance-form-content flex",style:{paddingBottom:0},children:[(0,i.jsxs)("div",{className:"form-group label-floating inline-flex",style:{width:a?"49.5%":"32.5%"},children:[(0,i.jsx)("label",{className:"control-label",children:(0,m.id)(v,"filter_by_song")}),(0,i.jsx)("input",{className:"form-control",type:"text",value:Y.song,placeholder:(0,m.id)(v,"type_here..."),onChange:function(e){E((0,t._)((0,n._)({},Y),{song:e.target.value}))},onKeyDown:handleKeyDown})]}),(0,i.jsxs)("div",{className:"form-group label-floating inline-flex",style:{width:a?"49.5%":"32.5%"},children:[(0,i.jsx)("label",{className:"control-label",children:(0,m.id)(v,"filter_by_composer")}),(0,i.jsx)("input",{className:"form-control",type:"text",value:Y.composer,placeholder:(0,m.id)(v,"type_here..."),onChange:function(e){E((0,t._)((0,n._)({},Y),{composer:e.target.value}))},onKeyDown:handleKeyDown})]}),!a&&(0,i.jsxs)("div",{className:"form-group label-floating inline-flex",style:{width:"32.5%"},children:[(0,i.jsx)("label",{className:"control-label",children:(0,m.id)(v,"filter_by_performer")}),(0,i.jsx)("input",{className:"form-control",type:"text",value:Y.performer,placeholder:(0,m.id)(v,"type_here..."),onChange:function(e){E((0,t._)((0,n._)({},Y),{performer:e.target.value}))},onKeyDown:handleKeyDown})]})]}),(0,i.jsxs)("div",{className:"performance-form-content flex",style:{paddingBottom:0},children:[(0,i.jsxs)("div",{className:"form-group date-time-picker label-floating inline-flex",style:{width:"43.5%"},children:[(0,i.jsx)("label",{className:"control-label",children:(0,m.id)(v,"from_date")}),(0,i.jsx)(h._,{dateAdapter:f.y,children:(0,i.jsx)(u.M,{value:Y.fromDate,onChange:function(e){changeDate(e.format("YYYY-MM-DD"),"fromDate")}})})]}),(0,i.jsxs)("div",{className:"form-group date-time-picker label-floating inline-flex",style:{width:"43.5%"},children:[(0,i.jsx)("label",{className:"control-label",children:(0,m.id)(v,"to_date")}),(0,i.jsx)(h._,{dateAdapter:f.y,children:(0,i.jsx)(u.M,{value:Y.toDate,onChange:function(e){changeDate(e.format("YYYY-MM-DD"),"toDate")}})})]}),(0,i.jsxs)("div",{className:"form-group label-floating inline-flex max-record",style:{width:"10%"},children:[(0,i.jsx)("label",{className:"control-label",children:(0,m.id)(v,"#records")}),(0,i.jsxs)("select",{className:"form-control",value:Y.limit,onChange:function(e){E((0,t._)((0,n._)({},Y),{limit:e.target.value}))},children:[(0,i.jsx)("option",{value:"5",children:"5"}),(0,i.jsx)("option",{value:"10",children:"10"}),(0,i.jsx)("option",{value:"20",children:"20"}),(0,i.jsx)("option",{value:"30",children:"30"}),(0,i.jsx)("option",{value:"40",children:"40"}),(0,i.jsx)("option",{value:"50",children:"50"}),(0,i.jsx)("option",{value:"100",children:"100"})]})]})]}),(0,i.jsxs)("div",{className:"performance-form-content flex",style:{justifyContent:"flex-end"},onClick:function(e){e.stopPropagation()},children:[(0,i.jsxs)("button",{className:"btn btn-outline-dark",onClick:function(e){E(j),filterPerformance(1,a)},style:{marginRight:"10px"},children:[(0,i.jsx)("i",{className:"fa fa-undo",type:"button"})," ",(0,m.id)(v,"reset")]}),(0,i.jsxs)("button",{className:"btn btn-outline-primary",onClick:search,type:"button",children:[(0,i.jsx)("i",{className:"fa fa-search"})," ",(0,m.id)(v,"search")]})]})]}),(0,i.jsxs)("div",{className:"table",children:[b&&0!=b.length?(0,i.jsxs)("div",{className:"table-row table-header",children:[a?(0,i.jsx)("div",{className:"table-cell",children:(0,m.id)(v,"time")}):(0,i.jsx)("div",{className:"table-cell author",children:(0,m.id)(v,"performer")}),(0,i.jsx)("div",{className:"table-cell song",children:(0,m.id)(v,"song")}),(0,i.jsx)("div",{className:"table-cell",children:(0,m.id)(v,"composer")}),(0,i.jsx)("div",{className:"table-cell action"})]}):(0,i.jsx)("div",{className:"table-row",children:(0,i.jsx)("div",{className:"table-cell",style:{display:"block",width:"100%"},children:(0,i.jsx)("center",{children:(0,m.id)(v,"no_information")})})}),b&&0!=b.length?b.map(function(e,l){return(0,i.jsxs)("div",{className:"table-row",children:[a?(0,i.jsx)("div",{className:"table-cell",children:e.updated_at}):(0,i.jsxs)("div",{className:"table-cell author",children:[(0,i.jsx)("div",{className:"author-thumb",children:(0,i.jsx)("img",{loading:"lazy",src:e.avatar,alt:"author",width:"38",height:"38"})}),(0,i.jsxs)("div",{className:"author-name",children:[(0,i.jsx)(d(),{className:"h6 author-name",href:"/profile?uid="+e.user_id,children:e.fullname}),(0,i.jsx)("div",{className:"birthday-date",children:e.updated_at})]})]}),(0,i.jsx)("div",{className:"table-cell song",children:e.name}),(0,i.jsx)("div",{className:"table-cell",children:e.composer}),(0,i.jsxs)("div",{className:"table-cell action",children:[(0,i.jsxs)("button",{className:"btn btn-outline-dark",onClick:function(){annotate(e)},children:[(0,i.jsx)("i",{className:"fa fa-eye"})," ",(0,m.id)(v,"view")]}),D.uid==e.user_id&&(0,i.jsxs)("button",{className:"btn btn-outline-dark",disabled:D.uid!=e.user_id,onClick:function(){removePerformance(e)},children:[(0,i.jsx)("i",{className:"fa fa-trash"})," ",(0,m.id)(v,"remove")]})]})]},e.pid)}):(0,i.jsx)(i.Fragment,{})]}),(0,i.jsx)(p.Z,{currentPage:P,onNext:function(){!b.length||b.length<limit||filterPerformance(P+1,a)},onPrev:function(){var e=P-1;e>0&&filterPerformance(e,a)}})]})})}},7324:function(e,a,l){l.d(a,{Z:function(){return Navigation}});var n=l(5893);function Navigation(e){var a=e.currentPage,l=e.onPrev,t=e.onNext;return(0,n.jsx)("nav",{"aria-label":"Page navigation",children:(0,n.jsxs)("ul",{className:"pagination justify-content-center",children:[(0,n.jsx)("li",{className:"page-item",children:(0,n.jsx)("a",{className:"page-link "+(1==a?"page-link-disabled":""),disabled:1==a,onClick:l,children:(0,n.jsx)("i",{className:"fa fa-chevron-left"})})}),(0,n.jsx)("li",{className:"page-item",children:(0,n.jsx)("a",{className:"page-link page-link-content",disabled:!0,children:a})}),(0,n.jsx)("li",{className:"page-item",children:(0,n.jsx)("a",{className:"page-link",onClick:t,children:(0,n.jsx)("i",{className:"fa fa-chevron-right"})})})]})})}}}]);