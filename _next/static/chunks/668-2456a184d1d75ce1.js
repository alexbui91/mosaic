(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[668],{7584:function(e,t){"use strict";function search(e,t,r){void 0===r&&(r="ticks");var n=0,o=e.length,i=o;if(o>0&&e[o-1][r]<=t)return o-1;for(;n<i;){var a=Math.floor(n+(i-n)/2),s=e[a],u=e[a+1];if(s[r]===t){for(var c=a;c<e.length;c++)e[c][r]===t&&(a=c);return a}if(s[r]<t&&u[r]>t)return a;s[r]>t?i=a:s[r]<t&&(n=a+1)}return -1}Object.defineProperty(t,"__esModule",{value:!0}),t.insert=t.search=void 0,t.search=search,t.insert=function(e,t,r){if(void 0===r&&(r="ticks"),e.length){var n=search(e,t[r],r);e.splice(n+1,0,t)}else e.push(t)}},1382:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ControlChange=t.controlChangeIds=t.controlChangeNames=void 0,t.controlChangeNames={1:"modulationWheel",2:"breath",4:"footController",5:"portamentoTime",7:"volume",8:"balance",10:"pan",64:"sustain",65:"portamentoTime",66:"sostenuto",67:"softPedal",68:"legatoFootswitch",84:"portamentoControl"},t.controlChangeIds=Object.keys(t.controlChangeNames).reduce(function(e,r){return e[t.controlChangeNames[r]]=r,e},{});var r=new WeakMap,n=new WeakMap,o=function(){function ControlChange(e,t){r.set(this,t),n.set(this,e.controllerType),this.ticks=e.absoluteTime,this.value=e.value}return Object.defineProperty(ControlChange.prototype,"number",{get:function(){return n.get(this)},enumerable:!1,configurable:!0}),Object.defineProperty(ControlChange.prototype,"name",{get:function(){return t.controlChangeNames[this.number]?t.controlChangeNames[this.number]:null},enumerable:!1,configurable:!0}),Object.defineProperty(ControlChange.prototype,"time",{get:function(){return r.get(this).ticksToSeconds(this.ticks)},set:function(e){var t=r.get(this);this.ticks=t.secondsToTicks(e)},enumerable:!1,configurable:!0}),ControlChange.prototype.toJSON=function(){return{number:this.number,ticks:this.ticks,time:this.time,value:this.value}},ControlChange}();t.ControlChange=o},3672:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createControlChanges=void 0;var n=r(1382);t.createControlChanges=function(){return new Proxy({},{get:function(e,t){return e[t]?e[t]:n.controlChangeIds.hasOwnProperty(t)?e[n.controlChangeIds[t]]:void 0},set:function(e,t,r){return n.controlChangeIds.hasOwnProperty(t)?e[n.controlChangeIds[t]]=r:e[t]=r,!0}})}},6473:function(e,t,r){"use strict";var n=this&&this.__spreadArray||function(e,t,r){if(r||2==arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.encode=void 0;var o=r(6289),i=r(4678),a=r(8507);t.encode=function(e){var t={header:{format:1,numTracks:e.tracks.length+1,ticksPerBeat:e.header.ppq},tracks:n([n(n(n(n([{absoluteTime:0,deltaTime:0,meta:!0,text:e.header.name,type:"trackName"}],e.header.keySignatures.map(function(e){var t;return t=i.keySignatureKeys.indexOf(e.key),{absoluteTime:e.ticks,deltaTime:0,key:t+7,meta:!0,scale:"major"===e.scale?0:1,type:"keySignature"}}),!0),e.header.meta.map(function(e){return{absoluteTime:e.ticks,deltaTime:0,meta:!0,text:e.text,type:e.type}}),!0),e.header.tempos.map(function(e){return{absoluteTime:e.ticks,deltaTime:0,meta:!0,microsecondsPerBeat:Math.floor(6e7/e.bpm),type:"setTempo"}}),!0),e.header.timeSignatures.map(function(e){return{absoluteTime:e.ticks,deltaTime:0,denominator:e.timeSignature[1],meta:!0,metronome:24,numerator:e.timeSignature[0],thirtyseconds:8,type:"timeSignature"}}),!0)],e.tracks.map(function(e){var t;return n(n(n([{absoluteTime:0,deltaTime:0,meta:!0,text:e.name,type:"trackName"},{absoluteTime:0,channel:e.channel,deltaTime:0,programNumber:e.instrument.number,type:"programChange"}],(0,a.flatten)(e.notes.map(function(t){var r;return r=e.channel,[{absoluteTime:t.ticks,channel:r,deltaTime:0,noteNumber:t.midi,type:"noteOn",velocity:Math.floor(127*t.velocity)},{absoluteTime:t.ticks+t.durationTicks,channel:r,deltaTime:0,noteNumber:t.midi,type:"noteOff",velocity:Math.floor(127*t.noteOffVelocity)}]})),!0),function(e){for(var t=[],r=0;r<127;r++)e.controlChanges.hasOwnProperty(r)&&e.controlChanges[r].forEach(function(r){var n;t.push((n=e.channel,{absoluteTime:r.ticks,channel:n,controllerType:r.number,deltaTime:0,type:"controller",value:Math.floor(127*r.value)}))});return t}(e),!0),(t=[],e.pitchBends.forEach(function(r){var n;t.push((n=e.channel,{absoluteTime:r.ticks,channel:n,deltaTime:0,type:"pitchBend",value:r.value}))}),t),!0)}),!0)};return t.tracks=t.tracks.map(function(e){e=e.sort(function(e,t){return e.absoluteTime-t.absoluteTime});var t=0;return e.forEach(function(e){e.deltaTime=e.absoluteTime-t,t=e.absoluteTime,delete e.absoluteTime}),e.push({deltaTime:0,meta:!0,type:"endOfTrack"}),e}),new Uint8Array((0,o.writeMidi)(t))}},4678:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Header=t.keySignatureKeys=void 0;var n=r(7584),o=new WeakMap;t.keySignatureKeys=["Cb","Gb","Db","Ab","Eb","Bb","F","C","G","D","A","E","B","F#","C#"];var i=function(){function Header(e){var r=this;if(this.tempos=[],this.timeSignatures=[],this.keySignatures=[],this.meta=[],this.name="",o.set(this,480),e){o.set(this,e.header.ticksPerBeat),e.tracks.forEach(function(e){e.forEach(function(e){e.meta&&("timeSignature"===e.type?r.timeSignatures.push({ticks:e.absoluteTime,timeSignature:[e.numerator,e.denominator]}):"setTempo"===e.type?r.tempos.push({bpm:6e7/e.microsecondsPerBeat,ticks:e.absoluteTime}):"keySignature"===e.type&&r.keySignatures.push({key:t.keySignatureKeys[e.key+7],scale:0===e.scale?"major":"minor",ticks:e.absoluteTime}))})});var n=0;e.tracks[0].forEach(function(e){n+=e.deltaTime,e.meta&&("trackName"===e.type?r.name=e.text:("text"===e.type||"cuePoint"===e.type||"marker"===e.type||"lyrics"===e.type)&&r.meta.push({text:e.text,ticks:n,type:e.type}))}),this.update()}}return Header.prototype.update=function(){var e=this,t=0,r=0;this.tempos.sort(function(e,t){return e.ticks-t.ticks}),this.tempos.forEach(function(n,o){var i=o>0?e.tempos[o-1].bpm:e.tempos[0].bpm,a=n.ticks/e.ppq-r;n.time=60/i*a+t,t=n.time,r+=a}),this.timeSignatures.sort(function(e,t){return e.ticks-t.ticks}),this.timeSignatures.forEach(function(t,r){var n=r>0?e.timeSignatures[r-1]:e.timeSignatures[0],o=(t.ticks-n.ticks)/e.ppq/n.timeSignature[0]/(n.timeSignature[1]/4);n.measures=n.measures||0,t.measures=o+n.measures})},Header.prototype.ticksToSeconds=function(e){var t=(0,n.search)(this.tempos,e);if(-1===t)return .5*(e/this.ppq);var r=this.tempos[t],o=r.time,i=(e-r.ticks)/this.ppq;return o+60/r.bpm*i},Header.prototype.ticksToMeasures=function(e){var t=(0,n.search)(this.timeSignatures,e);if(-1===t)return e/this.ppq/4;var r=this.timeSignatures[t],o=(e-r.ticks)/this.ppq;return r.measures+o/(r.timeSignature[0]/r.timeSignature[1])/4},Object.defineProperty(Header.prototype,"ppq",{get:function(){return o.get(this)},enumerable:!1,configurable:!0}),Header.prototype.secondsToTicks=function(e){var t=(0,n.search)(this.tempos,e,"time");if(-1===t)return Math.round(e/.5*this.ppq);var r=this.tempos[t],o=(e-r.time)/(60/r.bpm);return Math.round(r.ticks+o*this.ppq)},Header.prototype.toJSON=function(){return{keySignatures:this.keySignatures,meta:this.meta,name:this.name,ppq:this.ppq,tempos:this.tempos.map(function(e){return{bpm:e.bpm,ticks:e.ticks}}),timeSignatures:this.timeSignatures}},Header.prototype.fromJSON=function(e){this.name=e.name,this.tempos=e.tempos.map(function(e){return Object.assign({},e)}),this.timeSignatures=e.timeSignatures.map(function(e){return Object.assign({},e)}),this.keySignatures=e.keySignatures.map(function(e){return Object.assign({},e)}),this.meta=e.meta.map(function(e){return Object.assign({},e)}),o.set(this,e.ppq),this.update()},Header.prototype.setTempo=function(e){this.tempos=[{bpm:e,ticks:0}],this.update()},Header}();t.Header=i},780:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Instrument=void 0;var n=r(9960),o=new WeakMap,i=function(){function Instrument(e,t){if(this.number=0,o.set(this,t),this.number=0,e){var r=e.find(function(e){return"programChange"===e.type});r&&(this.number=r.programNumber)}}return Object.defineProperty(Instrument.prototype,"name",{get:function(){return this.percussion?n.DrumKitByPatchID[this.number]:n.instrumentByPatchID[this.number]},set:function(e){var t=n.instrumentByPatchID.indexOf(e);-1!==t&&(this.number=t)},enumerable:!1,configurable:!0}),Object.defineProperty(Instrument.prototype,"family",{get:function(){return this.percussion?"drums":n.InstrumentFamilyByID[Math.floor(this.number/8)]},enumerable:!1,configurable:!0}),Object.defineProperty(Instrument.prototype,"percussion",{get:function(){return 9===o.get(this).channel},enumerable:!1,configurable:!0}),Instrument.prototype.toJSON=function(){return{family:this.family,number:this.number,name:this.name}},Instrument.prototype.fromJSON=function(e){this.number=e.number},Instrument}();t.Instrument=i},9960:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DrumKitByPatchID=t.InstrumentFamilyByID=t.instrumentByPatchID=void 0,t.instrumentByPatchID=["acoustic grand piano","bright acoustic piano","electric grand piano","honky-tonk piano","electric piano 1","electric piano 2","harpsichord","clavi","celesta","glockenspiel","music box","vibraphone","marimba","xylophone","tubular bells","dulcimer","drawbar organ","percussive organ","rock organ","church organ","reed organ","accordion","harmonica","tango accordion","acoustic guitar (nylon)","acoustic guitar (steel)","electric guitar (jazz)","electric guitar (clean)","electric guitar (muted)","overdriven guitar","distortion guitar","guitar harmonics","acoustic bass","electric bass (finger)","electric bass (pick)","fretless bass","slap bass 1","slap bass 2","synth bass 1","synth bass 2","violin","viola","cello","contrabass","tremolo strings","pizzicato strings","orchestral harp","timpani","string ensemble 1","string ensemble 2","synthstrings 1","synthstrings 2","choir aahs","voice oohs","synth voice","orchestra hit","trumpet","trombone","tuba","muted trumpet","french horn","brass section","synthbrass 1","synthbrass 2","soprano sax","alto sax","tenor sax","baritone sax","oboe","english horn","bassoon","clarinet","piccolo","flute","recorder","pan flute","blown bottle","shakuhachi","whistle","ocarina","lead 1 (square)","lead 2 (sawtooth)","lead 3 (calliope)","lead 4 (chiff)","lead 5 (charang)","lead 6 (voice)","lead 7 (fifths)","lead 8 (bass + lead)","pad 1 (new age)","pad 2 (warm)","pad 3 (polysynth)","pad 4 (choir)","pad 5 (bowed)","pad 6 (metallic)","pad 7 (halo)","pad 8 (sweep)","fx 1 (rain)","fx 2 (soundtrack)","fx 3 (crystal)","fx 4 (atmosphere)","fx 5 (brightness)","fx 6 (goblins)","fx 7 (echoes)","fx 8 (sci-fi)","sitar","banjo","shamisen","koto","kalimba","bag pipe","fiddle","shanai","tinkle bell","agogo","steel drums","woodblock","taiko drum","melodic tom","synth drum","reverse cymbal","guitar fret noise","breath noise","seashore","bird tweet","telephone ring","helicopter","applause","gunshot"],t.InstrumentFamilyByID=["piano","chromatic percussion","organ","guitar","bass","strings","ensemble","brass","reed","pipe","synth lead","synth pad","synth effects","world","percussive","sound effects"],t.DrumKitByPatchID={0:"standard kit",8:"room kit",16:"power kit",24:"electronic kit",25:"tr-808 kit",32:"jazz kit",40:"brush kit",48:"orchestra kit",56:"sound fx kit"}},2452:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,i){function fulfilled(e){try{step(n.next(e))}catch(e){i(e)}}function rejected(e){try{step(n.throw(e))}catch(e){i(e)}}function step(e){var t;e.done?o(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(fulfilled,rejected)}step((n=n.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function verb(i){return function(s){return function(i){if(r)throw TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.Header=t.Track=t.Midi=void 0;var i=r(6289),a=r(4678),s=r(4958),u=r(6473),c=function(){function Midi(e){var t=this,r=null;if(e){var n=e instanceof ArrayBuffer?new Uint8Array(e):e;(r=(0,i.parseMidi)(n)).tracks.forEach(function(e){var t=0;e.forEach(function(e){t+=e.deltaTime,e.absoluteTime=t})}),r.tracks=function(e){for(var t=[],r=0;r<e.length;r++)for(var n=t.length,o=new Map,i=Array(16).fill(0),a=0,s=e[r];a<s.length;a++){var u=s[a],c=n,l=u.channel;if(void 0!==l){"programChange"===u.type&&(i[l]=u.programNumber);var d=i[l],f="".concat(d," ").concat(l);o.has(f)?c=o.get(f):(c=n+o.size,o.set(f,c))}t[c]||t.push([]),t[c].push(u)}return t}(r.tracks)}this.header=new a.Header(r),this.tracks=[],e&&(this.tracks=r.tracks.map(function(e){return new s.Track(e,t.header)}),1===r.header.format&&0===this.tracks[0].duration&&this.tracks.shift())}return Midi.fromUrl=function(e){return n(this,void 0,void 0,function(){var t,r;return o(this,function(n){switch(n.label){case 0:return[4,fetch(e)];case 1:if(!(t=n.sent()).ok)return[3,3];return[4,t.arrayBuffer()];case 2:return r=n.sent(),[2,new Midi(r)];case 3:throw Error("Could not load '".concat(e,"'"))}})})},Object.defineProperty(Midi.prototype,"name",{get:function(){return this.header.name},set:function(e){this.header.name=e},enumerable:!1,configurable:!0}),Object.defineProperty(Midi.prototype,"duration",{get:function(){var e=this.tracks.map(function(e){return e.duration});return Math.max.apply(Math,e)},enumerable:!1,configurable:!0}),Object.defineProperty(Midi.prototype,"durationTicks",{get:function(){var e=this.tracks.map(function(e){return e.durationTicks});return Math.max.apply(Math,e)},enumerable:!1,configurable:!0}),Midi.prototype.addTrack=function(){var e=new s.Track(void 0,this.header);return this.tracks.push(e),e},Midi.prototype.toArray=function(){return(0,u.encode)(this)},Midi.prototype.toJSON=function(){return{header:this.header.toJSON(),tracks:this.tracks.map(function(e){return e.toJSON()})}},Midi.prototype.fromJSON=function(e){var t=this;this.header=new a.Header,this.header.fromJSON(e.header),this.tracks=e.tracks.map(function(e){var r=new s.Track(void 0,t.header);return r.fromJSON(e),r})},Midi.prototype.clone=function(){var e=new Midi;return e.fromJSON(this.toJSON()),e},Midi}();t.Midi=c;var l=r(4958);Object.defineProperty(t,"Track",{enumerable:!0,get:function(){return l.Track}});var d=r(4678);Object.defineProperty(t,"Header",{enumerable:!0,get:function(){return d.Header}})},6720:function(e,t){"use strict";function midiToPitchClass(e){return["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"][e%12]}Object.defineProperty(t,"__esModule",{value:!0}),t.Note=void 0;var r,n,o=(r=/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i,n={cbb:-2,cb:-1,c:0,"c#":1,cx:2,dbb:0,db:1,d:2,"d#":3,dx:4,ebb:2,eb:3,e:4,"e#":5,ex:6,fbb:3,fb:4,f:5,"f#":6,fx:7,gbb:5,gb:6,g:7,"g#":8,gx:9,abb:7,ab:8,a:9,"a#":10,ax:11,bbb:9,bb:10,b:11,"b#":12,bx:13},function(e){var t=r.exec(e),o=t[1],i=t[2];return n[o.toLowerCase()]+(parseInt(i,10)+1)*12}),i=new WeakMap,a=function(){function Note(e,t,r){i.set(this,r),this.midi=e.midi,this.velocity=e.velocity,this.noteOffVelocity=t.velocity,this.ticks=e.ticks,this.durationTicks=t.ticks-e.ticks}return Object.defineProperty(Note.prototype,"name",{get:function(){var e,t;return t=Math.floor((e=this.midi)/12)-1,midiToPitchClass(e)+t.toString()},set:function(e){this.midi=o(e)},enumerable:!1,configurable:!0}),Object.defineProperty(Note.prototype,"octave",{get:function(){return Math.floor(this.midi/12)-1},set:function(e){var t=e-this.octave;this.midi+=12*t},enumerable:!1,configurable:!0}),Object.defineProperty(Note.prototype,"pitch",{get:function(){return midiToPitchClass(this.midi)},set:function(e){this.midi=12*(this.octave+1)+["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"].indexOf(e)},enumerable:!1,configurable:!0}),Object.defineProperty(Note.prototype,"duration",{get:function(){var e=i.get(this);return e.ticksToSeconds(this.ticks+this.durationTicks)-e.ticksToSeconds(this.ticks)},set:function(e){var t=i.get(this).secondsToTicks(this.time+e);this.durationTicks=t-this.ticks},enumerable:!1,configurable:!0}),Object.defineProperty(Note.prototype,"time",{get:function(){return i.get(this).ticksToSeconds(this.ticks)},set:function(e){var t=i.get(this);this.ticks=t.secondsToTicks(e)},enumerable:!1,configurable:!0}),Object.defineProperty(Note.prototype,"bars",{get:function(){return i.get(this).ticksToMeasures(this.ticks)},enumerable:!1,configurable:!0}),Note.prototype.toJSON=function(){return{duration:this.duration,durationTicks:this.durationTicks,midi:this.midi,name:this.name,ticks:this.ticks,time:this.time,velocity:this.velocity}},Note}();t.Note=a},8003:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PitchBend=void 0;var r=new WeakMap,n=function(){function PitchBend(e,t){r.set(this,t),this.ticks=e.absoluteTime,this.value=e.value}return Object.defineProperty(PitchBend.prototype,"time",{get:function(){return r.get(this).ticksToSeconds(this.ticks)},set:function(e){var t=r.get(this);this.ticks=t.secondsToTicks(e)},enumerable:!1,configurable:!0}),PitchBend.prototype.toJSON=function(){return{ticks:this.ticks,time:this.time,value:this.value}},PitchBend}();t.PitchBend=n},4958:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Track=void 0;var n=r(7584),o=r(1382),i=r(3672),a=r(8003),s=r(780),u=r(6720),c=new WeakMap,l=function(){function Track(e,t){var r=this;if(this.name="",this.notes=[],this.controlChanges=(0,i.createControlChanges)(),this.pitchBends=[],c.set(this,t),e){var n=e.find(function(e){return"trackName"===e.type});this.name=n?n.text:""}if(this.instrument=new s.Instrument(e,this),this.channel=0,e){for(var o=e.filter(function(e){return"noteOn"===e.type}),a=e.filter(function(e){return"noteOff"===e.type}),u=this;o.length;)!function(){var e=o.shift();u.channel=e.channel;var t=a.findIndex(function(t){return t.noteNumber===e.noteNumber&&t.absoluteTime>=e.absoluteTime});if(-1!==t){var r=a.splice(t,1)[0];u.addNote({durationTicks:r.absoluteTime-e.absoluteTime,midi:e.noteNumber,noteOffVelocity:r.velocity/127,ticks:e.absoluteTime,velocity:e.velocity/127})}}();e.filter(function(e){return"controller"===e.type}).forEach(function(e){r.addCC({number:e.controllerType,ticks:e.absoluteTime,value:e.value/127})}),e.filter(function(e){return"pitchBend"===e.type}).forEach(function(e){r.addPitchBend({ticks:e.absoluteTime,value:e.value/8192})});var l=e.find(function(e){return"endOfTrack"===e.type});this.endOfTrackTicks=void 0!==l?l.absoluteTime:void 0}}return Track.prototype.addNote=function(e){var t=c.get(this),r=new u.Note({midi:0,ticks:0,velocity:1},{ticks:0,velocity:0},t);return Object.assign(r,e),(0,n.insert)(this.notes,r,"ticks"),this},Track.prototype.addCC=function(e){var t=c.get(this),r=new o.ControlChange({controllerType:e.number},t);return delete e.number,Object.assign(r,e),Array.isArray(this.controlChanges[r.number])||(this.controlChanges[r.number]=[]),(0,n.insert)(this.controlChanges[r.number],r,"ticks"),this},Track.prototype.addPitchBend=function(e){var t=c.get(this),r=new a.PitchBend({},t);return Object.assign(r,e),(0,n.insert)(this.pitchBends,r,"ticks"),this},Object.defineProperty(Track.prototype,"duration",{get:function(){if(!this.notes.length)return 0;for(var e=this.notes[this.notes.length-1].time+this.notes[this.notes.length-1].duration,t=0;t<this.notes.length-1;t++){var r=this.notes[t].time+this.notes[t].duration;e<r&&(e=r)}return e},enumerable:!1,configurable:!0}),Object.defineProperty(Track.prototype,"durationTicks",{get:function(){if(!this.notes.length)return 0;for(var e=this.notes[this.notes.length-1].ticks+this.notes[this.notes.length-1].durationTicks,t=0;t<this.notes.length-1;t++){var r=this.notes[t].ticks+this.notes[t].durationTicks;e<r&&(e=r)}return e},enumerable:!1,configurable:!0}),Track.prototype.fromJSON=function(e){var t=this;for(var r in this.name=e.name,this.channel=e.channel,this.instrument=new s.Instrument(void 0,this),this.instrument.fromJSON(e.instrument),void 0!==e.endOfTrackTicks&&(this.endOfTrackTicks=e.endOfTrackTicks),e.controlChanges)e.controlChanges[r]&&e.controlChanges[r].forEach(function(e){t.addCC({number:e.number,ticks:e.ticks,value:e.value})});e.notes.forEach(function(e){t.addNote({durationTicks:e.durationTicks,midi:e.midi,ticks:e.ticks,velocity:e.velocity})})},Track.prototype.toJSON=function(){for(var e={},t=0;t<127;t++)this.controlChanges.hasOwnProperty(t)&&(e[t]=this.controlChanges[t].map(function(e){return e.toJSON()}));var r={channel:this.channel,controlChanges:e,pitchBends:this.pitchBends.map(function(e){return e.toJSON()}),instrument:this.instrument.toJSON(),name:this.name,notes:this.notes.map(function(e){return e.toJSON()})};return void 0!==this.endOfTrackTicks&&(r.endOfTrackTicks=this.endOfTrackTicks),r},Track}();t.Track=l},8507:function(e,t,r){"use strict";function flatten(e){var t=[];return function $flatten(e,t){for(var r=0;r<e.length;r++){var n=e[r];Array.isArray(n)?$flatten(n,t):t.push(n)}}(e,t),t}r.r(t),r.d(t,{flatten:function(){return flatten}})},6289:function(e,t,r){t.parseMidi=r(9666),t.writeMidi=r(4865)},9666:function(e){function Parser(e){this.buffer=e,this.bufferLen=this.buffer.length,this.pos=0}Parser.prototype.eof=function(){return this.pos>=this.bufferLen},Parser.prototype.readUInt8=function(){var e=this.buffer[this.pos];return this.pos+=1,e},Parser.prototype.readInt8=function(){var e=this.readUInt8();return 128&e?e-256:e},Parser.prototype.readUInt16=function(){return(this.readUInt8()<<8)+this.readUInt8()},Parser.prototype.readInt16=function(){var e=this.readUInt16();return 32768&e?e-65536:e},Parser.prototype.readUInt24=function(){return(this.readUInt8()<<16)+(this.readUInt8()<<8)+this.readUInt8()},Parser.prototype.readInt24=function(){var e=this.readUInt24();return 8388608&e?e-16777216:e},Parser.prototype.readUInt32=function(){return(this.readUInt8()<<24)+(this.readUInt8()<<16)+(this.readUInt8()<<8)+this.readUInt8()},Parser.prototype.readBytes=function(e){var t=this.buffer.slice(this.pos,this.pos+e);return this.pos+=e,t},Parser.prototype.readString=function(e){var t=this.readBytes(e);return String.fromCharCode.apply(null,t)},Parser.prototype.readVarInt=function(){for(var e=0;!this.eof();){var t=this.readUInt8();if(!(128&t))return e+t;e+=127&t,e<<=7}return e},Parser.prototype.readChunk=function(){var e=this.readString(4),t=this.readUInt32(),r=this.readBytes(t);return{id:e,length:t,data:r}},e.exports=function(e){var t,r,n,o,i=new Parser(e),a=i.readChunk();if("MThd"!=a.id)throw"Bad MIDI file.  Expected 'MHdr', got: '"+a.id+"'";for(var s=(t=a.data,n={format:(r=new Parser(t)).readUInt16(),numTracks:r.readUInt16()},32768&(o=r.readUInt16())?(n.framesPerSecond=256-(o>>8),n.ticksPerFrame=255&o):n.ticksPerBeat=o,n),u=[],c=0;!i.eof()&&c<s.numTracks;c++){var l=i.readChunk();if("MTrk"!=l.id)throw"Bad MIDI file.  Expected 'MTrk', got: '"+l.id+"'";var d=function(e){for(var t,r=new Parser(e),n=[];!r.eof();){var o=function(){var e={};e.deltaTime=r.readVarInt();var n=r.readUInt8();if((240&n)==240){if(255===n){e.meta=!0;var o=r.readUInt8(),i=r.readVarInt();switch(o){case 0:if(e.type="sequenceNumber",2!==i)throw"Expected length for sequenceNumber event is 2, got "+i;return e.number=r.readUInt16(),e;case 1:return e.type="text",e.text=r.readString(i),e;case 2:return e.type="copyrightNotice",e.text=r.readString(i),e;case 3:return e.type="trackName",e.text=r.readString(i),e;case 4:return e.type="instrumentName",e.text=r.readString(i),e;case 5:return e.type="lyrics",e.text=r.readString(i),e;case 6:return e.type="marker",e.text=r.readString(i),e;case 7:return e.type="cuePoint",e.text=r.readString(i),e;case 32:if(e.type="channelPrefix",1!=i)throw"Expected length for channelPrefix event is 1, got "+i;return e.channel=r.readUInt8(),e;case 33:if(e.type="portPrefix",1!=i)throw"Expected length for portPrefix event is 1, got "+i;return e.port=r.readUInt8(),e;case 47:if(e.type="endOfTrack",0!=i)throw"Expected length for endOfTrack event is 0, got "+i;return e;case 81:if(e.type="setTempo",3!=i)throw"Expected length for setTempo event is 3, got "+i;return e.microsecondsPerBeat=r.readUInt24(),e;case 84:if(e.type="smpteOffset",5!=i)throw"Expected length for smpteOffset event is 5, got "+i;var a=r.readUInt8();return e.frameRate=({0:24,32:25,64:29,96:30})[96&a],e.hour=31&a,e.min=r.readUInt8(),e.sec=r.readUInt8(),e.frame=r.readUInt8(),e.subFrame=r.readUInt8(),e;case 88:if(e.type="timeSignature",2!=i&&4!=i)throw"Expected length for timeSignature event is 4 or 2, got "+i;return e.numerator=r.readUInt8(),e.denominator=1<<r.readUInt8(),4===i?(e.metronome=r.readUInt8(),e.thirtyseconds=r.readUInt8()):(e.metronome=36,e.thirtyseconds=8),e;case 89:if(e.type="keySignature",2!=i)throw"Expected length for keySignature event is 2, got "+i;return e.key=r.readInt8(),e.scale=r.readUInt8(),e;case 127:return e.type="sequencerSpecific",e.data=r.readBytes(i),e;default:return e.type="unknownMeta",e.data=r.readBytes(i),e.metatypeByte=o,e}}else if(240==n){e.type="sysEx";var i=r.readVarInt();return e.data=r.readBytes(i),e}else if(247==n){e.type="endSysEx";var i=r.readVarInt();return e.data=r.readBytes(i),e}else throw"Unrecognised MIDI event type byte: "+n}else{if((128&n)==0){if(null===t)throw"Running status byte encountered before status byte";s=n,n=t,e.running=!0}else s=r.readUInt8(),t=n;var s,u=n>>4;switch(e.channel=15&n,u){case 8:return e.type="noteOff",e.noteNumber=s,e.velocity=r.readUInt8(),e;case 9:var c=r.readUInt8();return e.type=0===c?"noteOff":"noteOn",e.noteNumber=s,e.velocity=c,0===c&&(e.byte9=!0),e;case 10:return e.type="noteAftertouch",e.noteNumber=s,e.amount=r.readUInt8(),e;case 11:return e.type="controller",e.controllerType=s,e.value=r.readUInt8(),e;case 12:return e.type="programChange",e.programNumber=s,e;case 13:return e.type="channelAftertouch",e.amount=s,e;case 14:return e.type="pitchBend",e.value=s+(r.readUInt8()<<7)-8192,e;default:throw"Unrecognised MIDI event type: "+u}}}();n.push(o)}return n}(l.data);u.push(d)}return{header:s,tracks:u}}},4865:function(e){function Writer(){this.buffer=[]}Writer.prototype.writeUInt8=function(e){this.buffer.push(255&e)},Writer.prototype.writeInt8=Writer.prototype.writeUInt8,Writer.prototype.writeUInt16=function(e){this.writeUInt8(e>>8&255),this.writeUInt8(255&e)},Writer.prototype.writeInt16=Writer.prototype.writeUInt16,Writer.prototype.writeUInt24=function(e){this.writeUInt8(e>>16&255),this.writeUInt8(e>>8&255),this.writeUInt8(255&e)},Writer.prototype.writeInt24=Writer.prototype.writeUInt24,Writer.prototype.writeUInt32=function(e){this.writeUInt8(e>>24&255),this.writeUInt8(e>>16&255),this.writeUInt8(e>>8&255),this.writeUInt8(255&e)},Writer.prototype.writeInt32=Writer.prototype.writeUInt32,Writer.prototype.writeBytes=function(e){this.buffer=this.buffer.concat(Array.prototype.slice.call(e,0))},Writer.prototype.writeString=function(e){var t,r=e.length,n=[];for(t=0;t<r;t++)n.push(e.codePointAt(t));this.writeBytes(n)},Writer.prototype.writeVarInt=function(e){if(e<0)throw"Cannot write negative variable-length integer";if(e<=127)this.writeUInt8(e);else{var t=e,r=[];for(r.push(127&t),t>>=7;t;){var n=127&t|128;r.push(n),t>>=7}this.writeBytes(r.reverse())}},Writer.prototype.writeChunk=function(e,t){this.writeString(e),this.writeUInt32(t.length),this.writeBytes(t)},e.exports=function(e,t){if("object"!=typeof e)throw"Invalid MIDI data";t=t||{};var r,n,o,i,a=e.header||{},s=e.tracks||[],u=s.length,c=new Writer;for(r=null==a.format?1:a.format,n=128,a.timeDivision?n=a.timeDivision:a.ticksPerFrame&&a.framesPerSecond?n=-(255&a.framesPerSecond)<<8|255&a.ticksPerFrame:a.ticksPerBeat&&(n=32767&a.ticksPerBeat),(o=new Writer).writeUInt16(r),o.writeUInt16(u),o.writeUInt16(n),c.writeChunk("MThd",o.buffer),i=0;i<u;i++)(function(e,t,r){var n,o=new Writer,i=t.length,a=null;for(n=0;n<i;n++)!1!==r.running&&(r.running||t[n].running)||(a=null),a=function(e,t,r,n){var o=t.type,i=t.deltaTime,a=t.text||"",s=t.data||[],u=null;switch(e.writeVarInt(i),o){case"sequenceNumber":e.writeUInt8(255),e.writeUInt8(0),e.writeVarInt(2),e.writeUInt16(t.number);break;case"text":e.writeUInt8(255),e.writeUInt8(1),e.writeVarInt(a.length),e.writeString(a);break;case"copyrightNotice":e.writeUInt8(255),e.writeUInt8(2),e.writeVarInt(a.length),e.writeString(a);break;case"trackName":e.writeUInt8(255),e.writeUInt8(3),e.writeVarInt(a.length),e.writeString(a);break;case"instrumentName":e.writeUInt8(255),e.writeUInt8(4),e.writeVarInt(a.length),e.writeString(a);break;case"lyrics":e.writeUInt8(255),e.writeUInt8(5),e.writeVarInt(a.length),e.writeString(a);break;case"marker":e.writeUInt8(255),e.writeUInt8(6),e.writeVarInt(a.length),e.writeString(a);break;case"cuePoint":e.writeUInt8(255),e.writeUInt8(7),e.writeVarInt(a.length),e.writeString(a);break;case"channelPrefix":e.writeUInt8(255),e.writeUInt8(32),e.writeVarInt(1),e.writeUInt8(t.channel);break;case"portPrefix":e.writeUInt8(255),e.writeUInt8(33),e.writeVarInt(1),e.writeUInt8(t.port);break;case"endOfTrack":e.writeUInt8(255),e.writeUInt8(47),e.writeVarInt(0);break;case"setTempo":e.writeUInt8(255),e.writeUInt8(81),e.writeVarInt(3),e.writeUInt24(t.microsecondsPerBeat);break;case"smpteOffset":e.writeUInt8(255),e.writeUInt8(84),e.writeVarInt(5);var c=31&t.hour|({24:0,25:32,29:64,30:96})[t.frameRate];e.writeUInt8(c),e.writeUInt8(t.min),e.writeUInt8(t.sec),e.writeUInt8(t.frame),e.writeUInt8(t.subFrame);break;case"timeSignature":e.writeUInt8(255),e.writeUInt8(88),e.writeVarInt(4),e.writeUInt8(t.numerator);var l=255&Math.floor(Math.log(t.denominator)/Math.LN2);e.writeUInt8(l),e.writeUInt8(t.metronome),e.writeUInt8(t.thirtyseconds||8);break;case"keySignature":e.writeUInt8(255),e.writeUInt8(89),e.writeVarInt(2),e.writeInt8(t.key),e.writeUInt8(t.scale);break;case"sequencerSpecific":e.writeUInt8(255),e.writeUInt8(127),e.writeVarInt(s.length),e.writeBytes(s);break;case"unknownMeta":null!=t.metatypeByte&&(e.writeUInt8(255),e.writeUInt8(t.metatypeByte),e.writeVarInt(s.length),e.writeBytes(s));break;case"sysEx":e.writeUInt8(240),e.writeVarInt(s.length),e.writeBytes(s);break;case"endSysEx":e.writeUInt8(247),e.writeVarInt(s.length),e.writeBytes(s);break;case"noteOff":(u=(!1!==n&&t.byte9||n&&0==t.velocity?144:128)|t.channel)!==r&&e.writeUInt8(u),e.writeUInt8(t.noteNumber),e.writeUInt8(t.velocity);break;case"noteOn":(u=144|t.channel)!==r&&e.writeUInt8(u),e.writeUInt8(t.noteNumber),e.writeUInt8(t.velocity);break;case"noteAftertouch":(u=160|t.channel)!==r&&e.writeUInt8(u),e.writeUInt8(t.noteNumber),e.writeUInt8(t.amount);break;case"controller":(u=176|t.channel)!==r&&e.writeUInt8(u),e.writeUInt8(t.controllerType),e.writeUInt8(t.value);break;case"programChange":(u=192|t.channel)!==r&&e.writeUInt8(u),e.writeUInt8(t.programNumber);break;case"channelAftertouch":(u=208|t.channel)!==r&&e.writeUInt8(u),e.writeUInt8(t.amount);break;case"pitchBend":(u=224|t.channel)!==r&&e.writeUInt8(u);var d=8192+t.value;e.writeUInt8(127&d),e.writeUInt8(d>>7&127);break;default:throw"Unrecognized event type: "+o}return u}(o,t[n],a,r.useByte9ForNoteOff);e.writeChunk("MTrk",o.buffer)})(c,s[i],t);return c.buffer}},3692:function(){},6180:function(e,t,r){"use strict";let n;function _classCallCheck(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function toPropertyKey(e){var t=function(e,t){if("object"!=_typeof(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=_typeof(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==_typeof(t)?t:t+""}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,toPropertyKey(n.key),n)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}r.d(t,{Z:function(){return es}});var o,i,a=r(7326),s=r(9611);function _inherits(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&(0,s.Z)(e,t)}function _possibleConstructorReturn(e,t){if(t&&("object"==_typeof(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return(0,a.Z)(e)}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _defineProperty(e,t,r){return(t=toPropertyKey(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var u=r(7294);let c=/^[a-z0-9]+(-[a-z0-9]+)*$/,stringToIcon=(e,t,r,n="")=>{let o=e.split(":");if("@"===e.slice(0,1)){if(o.length<2||o.length>3)return null;n=o.shift().slice(1)}if(o.length>3||!o.length)return null;if(o.length>1){let e=o.pop(),r=o.pop(),i={provider:o.length>0?o[0]:n,prefix:r,name:e};return t&&!validateIconName(i)?null:i}let i=o[0],a=i.split("-");if(a.length>1){let e={provider:n,prefix:a.shift(),name:a.join("-")};return t&&!validateIconName(e)?null:e}if(r&&""===n){let e={provider:n,prefix:"",name:i};return t&&!validateIconName(e,r)?null:e}return null},validateIconName=(e,t)=>!!e&&!!((""===e.provider||e.provider.match(c))&&(t&&""===e.prefix||e.prefix.match(c))&&e.name.match(c)),l=Object.freeze({left:0,top:0,width:16,height:16}),d=Object.freeze({rotate:0,vFlip:!1,hFlip:!1}),f=Object.freeze({...l,...d}),h=Object.freeze({...f,body:"",hidden:!1});function mergeIconData(e,t){let r=function(e,t){let r={};!e.hFlip!=!t.hFlip&&(r.hFlip=!0),!e.vFlip!=!t.vFlip&&(r.vFlip=!0);let n=((e.rotate||0)+(t.rotate||0))%4;return n&&(r.rotate=n),r}(e,t);for(let n in h)n in d?n in e&&!(n in r)&&(r[n]=d[n]):n in t?r[n]=t[n]:n in e&&(r[n]=e[n]);return r}function parseIconSet(e,t){let r=[];if("object"!=typeof e||"object"!=typeof e.icons)return r;e.not_found instanceof Array&&e.not_found.forEach(e=>{t(e,null),r.push(e)});let n=function(e,t){let r=e.icons,n=e.aliases||Object.create(null),o=Object.create(null);return Object.keys(r).concat(Object.keys(n)).forEach(function resolve(e){if(r[e])return o[e]=[];if(!(e in o)){o[e]=null;let t=n[e]&&n[e].parent,r=t&&resolve(t);r&&(o[e]=[t].concat(r))}return o[e]}),o}(e);for(let o in n){let i=n[o];i&&(t(o,function(e,t,r){let n=e.icons,o=e.aliases||Object.create(null),i={};function parse(e){i=mergeIconData(n[e]||o[e],i)}return parse(t),r.forEach(parse),mergeIconData(e,i)}(e,o,i)),r.push(o))}return r}let m={provider:"",aliases:{},not_found:{},...l};function checkOptionalProps(e,t){for(let r in t)if(r in e&&typeof e[r]!=typeof t[r])return!1;return!0}function quicklyValidateIconSet(e){if("object"!=typeof e||null===e||"string"!=typeof e.prefix||!e.icons||"object"!=typeof e.icons||!checkOptionalProps(e,m))return null;let t=e.icons;for(let e in t){let r=t[e];if(!e.match(c)||"string"!=typeof r.body||!checkOptionalProps(r,h))return null}let r=e.aliases||Object.create(null);for(let e in r){let n=r[e],o=n.parent;if(!e.match(c)||"string"!=typeof o||!t[o]&&!r[o]||!checkOptionalProps(n,h))return null}return e}let g=Object.create(null);function getStorage(e,t){let r=g[e]||(g[e]=Object.create(null));return r[t]||(r[t]={provider:e,prefix:t,icons:Object.create(null),missing:new Set})}function addIconSet(e,t){return quicklyValidateIconSet(t)?parseIconSet(t,(t,r)=>{r?e.icons[t]=r:e.missing.add(t)}):[]}let v=!1;function allowSimpleNames(e){return"boolean"==typeof e&&(v=e),v}let b=Object.freeze({width:null,height:null}),w=Object.freeze({...b,...d}),k=/(-?[0-9.]*[0-9]+[0-9.]*)/g,I=/^-?[0-9.]*[0-9]+[0-9.]*$/g;function calculateSize(e,t,r){if(1===t)return e;if(r=r||100,"number"==typeof e)return Math.ceil(e*t*r)/r;if("string"!=typeof e)return e;let n=e.split(k);if(null===n||!n.length)return e;let o=[],i=n.shift(),a=I.test(i);for(;;){if(a){let e=parseFloat(i);isNaN(e)?o.push(i):o.push(Math.ceil(e*t*r)/r)}else o.push(i);if(void 0===(i=n.shift()))return o.join("");a=!a}}let isUnsetKeyword=e=>"unset"===e||"undefined"===e||"none"===e,M=/\sid="(\S+)"/g,T="IconifyId"+Date.now().toString(16)+(16777216*Math.random()|0).toString(16),C=0,S=Object.create(null);function getAPIModule(e){return S[e]||S[""]}function createAPIConfig(e){let t;if("string"==typeof e.resources)t=[e.resources];else if(!((t=e.resources)instanceof Array)||!t.length)return null;let r={resources:t,path:e.path||"/",maxURL:e.maxURL||500,rotate:e.rotate||750,timeout:e.timeout||5e3,random:!0===e.random,index:e.index||0,dataAfterTimeout:!1!==e.dataAfterTimeout};return r}let P=Object.create(null),N=["https://api.simplesvg.com","https://api.unisvg.com"],O=[];for(;N.length>0;)1===N.length?O.push(N.shift()):Math.random()>.5?O.push(N.shift()):O.push(N.pop());P[""]=createAPIConfig({resources:["https://api.iconify.design"].concat(O)});let E=(()=>{let e;try{if(e=fetch,"function"==typeof e)return e}catch(e){}})();function removeCallback(e,t){e.forEach(e=>{let r=e.loaderCallbacks;r&&(e.loaderCallbacks=r.filter(e=>e.id!==t))})}let x=0;var L={resources:[],index:0,timeout:2e3,rotate:750,random:!1,dataAfterTimeout:!1};function initRedundancy(e){let t={...L,...e},r=[];function cleanup(){r=r.filter(e=>"pending"===e().status)}return{query:function(e,n,o){let i=function(e,t,r,n){let o,i;let a=e.resources.length,s=e.random?Math.floor(Math.random()*a):e.index;if(e.random){let t=e.resources.slice(0);for(o=[];t.length>1;){let e=Math.floor(Math.random()*t.length);o.push(t[e]),t=t.slice(0,e).concat(t.slice(e+1))}o=o.concat(t)}else o=e.resources.slice(s).concat(e.resources.slice(0,s));let u=Date.now(),c="pending",l=0,d=null,f=[],h=[];function resetTimer(){d&&(clearTimeout(d),d=null)}function abort(){"pending"===c&&(c="aborted"),resetTimer(),f.forEach(e=>{"pending"===e.status&&(e.status="aborted")}),f=[]}function subscribe(e,t){t&&(h=[]),"function"==typeof e&&h.push(e)}function failQuery(){c="failed",h.forEach(e=>{e(void 0,i)})}function clearQueue(){f.forEach(e=>{"pending"===e.status&&(e.status="aborted")}),f=[]}return"function"==typeof n&&h.push(n),setTimeout(function execNext(){if("pending"!==c)return;resetTimer();let n=o.shift();if(void 0===n){if(f.length){d=setTimeout(()=>{resetTimer(),"pending"===c&&(clearQueue(),failQuery())},e.timeout);return}failQuery();return}let a={status:"pending",resource:n,callback:(t,r)=>{!function(t,r,n){let a="success"!==r;switch(f=f.filter(e=>e!==t),c){case"pending":break;case"failed":if(a||!e.dataAfterTimeout)return;break;default:return}if("abort"===r){i=n,failQuery();return}if(a){i=n,f.length||(o.length?execNext():failQuery());return}if(resetTimer(),clearQueue(),!e.random){let r=e.resources.indexOf(t.resource);-1!==r&&r!==e.index&&(e.index=r)}c="completed",h.forEach(e=>{e(n)})}(a,t,r)}};f.push(a),l++,d=setTimeout(execNext,e.rotate),r(n,t,a.callback)}),function(){return{startTime:u,payload:t,status:c,queriesSent:l,queriesPending:f.length,subscribe,abort}}}(t,e,n,(e,t)=>{cleanup(),o&&o(e,t)});return r.push(i),i},find:function(e){return r.find(t=>e(t))||null},setIndex:e=>{t.index=e},getIndex:()=>t.index,cleanup}}let _=Object.create(null),D="iconify2",j="iconify",A=j+"-count",U=j+"-version";function getStoredItem(e,t){try{return e.getItem(t)}catch(e){}}function setStoredItem(e,t,r){try{return e.setItem(t,r),!0}catch(e){}}function removeStoredItem(e,t){try{e.removeItem(t)}catch(e){}}function setBrowserStorageItemsCount(e,t){return setStoredItem(e,A,t.toString())}function getBrowserStorageItemsCount(e){return parseInt(getStoredItem(e,A))||0}let B={local:!0,session:!0},z={local:new Set,session:new Set},Z=!1,F="undefined"==typeof window?{}:window;function getBrowserStorage(e){let t=e+"Storage";try{if(F&&F[t]&&"number"==typeof F[t].length)return F[t]}catch(e){}B[e]=!1}function iterateBrowserStorage(e,t){let r=getBrowserStorage(e);if(!r)return;let n=getStoredItem(r,U);if(n!==D){if(n){let e=getBrowserStorageItemsCount(r);for(let t=0;t<e;t++)removeStoredItem(r,j+t.toString())}setStoredItem(r,U,D),setBrowserStorageItemsCount(r,0);return}let o=Math.floor(Date.now()/36e5)-168,parseItem=e=>{let n=j+e.toString(),i=getStoredItem(r,n);if("string"==typeof i){try{let r=JSON.parse(i);if("object"==typeof r&&"number"==typeof r.cached&&r.cached>o&&"string"==typeof r.provider&&"object"==typeof r.data&&"string"==typeof r.data.prefix&&t(r,e))return!0}catch(e){}removeStoredItem(r,n)}},i=getBrowserStorageItemsCount(r);for(let t=i-1;t>=0;t--)parseItem(t)||(t===i-1?setBrowserStorageItemsCount(r,--i):z[e].add(t))}function initBrowserStorage(){if(!Z)for(let e in Z=!0,B)iterateBrowserStorage(e,e=>{let t=e.data,r=e.provider,n=t.prefix,o=getStorage(r,n);if(!addIconSet(o,t).length)return!1;let i=t.lastModified||-1;return o.lastModifiedCached=o.lastModifiedCached?Math.min(o.lastModifiedCached,i):i,!0})}function emptyCallback(){}let loadIcons=(e,t)=>{let r,n;let o=function(e,t=!0,r=!1){let n=[];return e.forEach(e=>{let o="string"==typeof e?stringToIcon(e,t,r):e;o&&n.push(o)}),n}(e,!0,allowSimpleNames()),i=function(e){let t={loaded:[],missing:[],pending:[]},r=Object.create(null);e.sort((e,t)=>e.provider!==t.provider?e.provider.localeCompare(t.provider):e.prefix!==t.prefix?e.prefix.localeCompare(t.prefix):e.name.localeCompare(t.name));let n={provider:"",prefix:"",name:""};return e.forEach(e=>{if(n.name===e.name&&n.prefix===e.prefix&&n.provider===e.provider)return;n=e;let o=e.provider,i=e.prefix,a=e.name,s=r[o]||(r[o]=Object.create(null)),u=s[i]||(s[i]=getStorage(o,i));(a in u.icons?t.loaded:""===i||u.missing.has(a)?t.missing:t.pending).push({provider:o,prefix:i,name:a})}),t}(o);if(!i.pending.length){let e=!0;return t&&setTimeout(()=>{e&&t(i.loaded,i.missing,i.pending,emptyCallback)}),()=>{e=!1}}let a=Object.create(null),s=[];return i.pending.forEach(e=>{let{provider:t,prefix:o}=e;if(o===n&&t===r)return;r=t,n=o,s.push(getStorage(t,o));let i=a[t]||(a[t]=Object.create(null));i[o]||(i[o]=[])}),i.pending.forEach(e=>{let{provider:t,prefix:r,name:n}=e,o=getStorage(t,r),i=o.pendingIcons||(o.pendingIcons=new Set);i.has(n)||(i.add(n),a[t][r].push(n))}),s.forEach(e=>{let{provider:t,prefix:r}=e;if(a[t][r].length){var n;n=a[t][r],e.iconsToLoad?e.iconsToLoad=e.iconsToLoad.concat(n).sort():e.iconsToLoad=n,e.iconsQueueFlag||(e.iconsQueueFlag=!0,setTimeout(()=>{let t;e.iconsQueueFlag=!1;let{provider:r,prefix:n}=e,o=e.iconsToLoad;if(delete e.iconsToLoad,!o||!(t=getAPIModule(r)))return;let i=t.prepare(r,n,o);i.forEach(t=>{!function(e,t,r){let n,o;if("string"==typeof e){let t=getAPIModule(e);if(!t)return r(void 0,424);o=t.send;let i=function(e){if(!_[e]){let t=P[e];if(!t)return;let r=initRedundancy(t);_[e]={config:t,redundancy:r}}return _[e]}(e);i&&(n=i.redundancy)}else{let t=createAPIConfig(e);if(t){n=initRedundancy(t);let r=e.resources?e.resources[0]:"",i=getAPIModule(r);i&&(o=i.send)}}n&&o?n.query(t,o,r)().abort:r(void 0,424)}(r,t,r=>{if("object"!=typeof r)t.icons.forEach(t=>{e.missing.add(t)});else try{let t=addIconSet(e,r);if(!t.length)return;let n=e.pendingIcons;n&&t.forEach(e=>{n.delete(e)}),function(e,t){function store(r){let n,o;if(!B[r]||!(n=getBrowserStorage(r)))return;let i=z[r];if(i.size)i.delete(o=Array.from(i).shift());else if(o=getBrowserStorageItemsCount(n),!setBrowserStorageItemsCount(n,o+1))return;let a={cached:Math.floor(Date.now()/36e5),provider:e.provider,data:t};return setStoredItem(n,j+o.toString(),JSON.stringify(a))}Z||initBrowserStorage(),(!t.lastModified||function(e,t){let r=e.lastModifiedCached;if(r&&r>=t)return r===t;if(e.lastModifiedCached=t,r)for(let r in B)iterateBrowserStorage(r,r=>{let n=r.data;return r.provider!==e.provider||n.prefix!==e.prefix||n.lastModified===t});return!0}(e,t.lastModified))&&Object.keys(t.icons).length&&(t.not_found&&(t=Object.assign({},t),delete t.not_found),store("local")||store("session"))}(e,r)}catch(e){console.error(e)}e.iconsLoaderFlag||(e.iconsLoaderFlag=!0,setTimeout(()=>{e.iconsLoaderFlag=!1,e.pendingCallbacksFlag||(e.pendingCallbacksFlag=!0,setTimeout(()=>{e.pendingCallbacksFlag=!1;let t=e.loaderCallbacks?e.loaderCallbacks.slice(0):[];if(!t.length)return;let r=!1,n=e.provider,o=e.prefix;t.forEach(t=>{let i=t.icons,a=i.pending.length;i.pending=i.pending.filter(t=>{if(t.prefix!==o)return!0;let a=t.name;if(e.icons[a])i.loaded.push({provider:n,prefix:o,name:a});else{if(!e.missing.has(a))return r=!0,!0;i.missing.push({provider:n,prefix:o,name:a})}return!1}),i.pending.length!==a&&(r||removeCallback([e],t.id),t.callback(i.loaded.slice(0),i.missing.slice(0),i.pending.slice(0),t.abort))})}))}))})})}))}}),t?function(e,t,r){let n=x++,o=removeCallback.bind(null,r,n);if(!t.pending.length)return o;let i={id:n,icons:t,callback:e,abort:o};return r.forEach(e=>{(e.loaderCallbacks||(e.loaderCallbacks=[])).push(i)}),o}(t,i,s):emptyCallback},W=/[\s,]+/,J={...w,inline:!1},Q={xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink","aria-hidden":!0,role:"img"},H={display:"inline-block"},Y={backgroundColor:"currentColor"},G={backgroundColor:"transparent"},K={Image:"var(--svg)",Repeat:"no-repeat",Size:"100% 100%"},X={WebkitMask:Y,mask:Y,background:G};for(let e in X){let t=X[e];for(let r in K)t[e+r]=K[r]}let q={...J,inline:!0};function fixSize(e){return e+(e.match(/^[-0-9.]+$/)?"px":"")}let render=(e,t,r,o)=>{let i=r?q:J,a=function(e,t){let r={...e};for(let e in t){let n=t[e],o=typeof n;e in b?(null===n||n&&("string"===o||"number"===o))&&(r[e]=n):o===typeof r[e]&&(r[e]="rotate"===e?n%4:n)}return r}(i,t),s=t.mode||"svg",c={},l=t.style||{},d={..."svg"===s?Q:{},ref:o};for(let e in t){let r=t[e];if(void 0!==r)switch(e){case"icon":case"style":case"children":case"onLoad":case"mode":case"_ref":case"_inline":break;case"inline":case"hFlip":case"vFlip":a[e]=!0===r||"true"===r||1===r;break;case"flip":"string"==typeof r&&function(e,t){t.split(W).forEach(t=>{let r=t.trim();switch(r){case"horizontal":e.hFlip=!0;break;case"vertical":e.vFlip=!0}})}(a,r);break;case"color":c.color=r;break;case"rotate":"string"==typeof r?a[e]=function(e,t=0){let r=e.replace(/^-?[0-9.]*/,"");function cleanup(e){for(;e<0;)e+=4;return e%4}if(""===r){let t=parseInt(e);return isNaN(t)?0:cleanup(t)}if(r!==e){let t=0;switch(r){case"%":t=25;break;case"deg":t=90}if(t){let n=parseFloat(e.slice(0,e.length-r.length));return isNaN(n)?0:(n/=t)%1==0?cleanup(n):0}}return t}(r):"number"==typeof r&&(a[e]=r);break;case"ariaHidden":case"aria-hidden":!0!==r&&"true"!==r&&delete d["aria-hidden"];break;default:void 0===i[e]&&(d[e]=r)}}let h=function(e,t){let r,n;let o={...f,...e},i={...w,...t},a={left:o.left,top:o.top,width:o.width,height:o.height},s=o.body;[o,i].forEach(e=>{let t;let r=[],n=e.hFlip,o=e.vFlip,i=e.rotate;switch(n?o?i+=2:(r.push("translate("+(a.width+a.left).toString()+" "+(0-a.top).toString()+")"),r.push("scale(-1 1)"),a.top=a.left=0):o&&(r.push("translate("+(0-a.left).toString()+" "+(a.height+a.top).toString()+")"),r.push("scale(1 -1)"),a.top=a.left=0),i<0&&(i-=4*Math.floor(i/4)),i%=4){case 1:r.unshift("rotate(90 "+(t=a.height/2+a.top).toString()+" "+t.toString()+")");break;case 2:r.unshift("rotate(180 "+(a.width/2+a.left).toString()+" "+(a.height/2+a.top).toString()+")");break;case 3:r.unshift("rotate(-90 "+(t=a.width/2+a.left).toString()+" "+t.toString()+")")}i%2==1&&(a.left!==a.top&&(t=a.left,a.left=a.top,a.top=t),a.width!==a.height&&(t=a.width,a.width=a.height,a.height=t)),r.length&&(s='<g transform="'+r.join(" ")+'">'+s+"</g>")});let u=i.width,c=i.height,l=a.width,d=a.height;null===u?r=calculateSize(n=null===c?"1em":"auto"===c?d:c,l/d):(r="auto"===u?l:u,n=null===c?calculateSize(r,d/l):"auto"===c?d:c);let h={},setAttr=(e,t)=>{isUnsetKeyword(t)||(h[e]=t.toString())};return setAttr("width",r),setAttr("height",n),h.viewBox=a.left.toString()+" "+a.top.toString()+" "+l.toString()+" "+d.toString(),{attributes:h,body:s}}(e,a),m=h.attributes;if(a.inline&&(c.verticalAlign="-0.125em"),"svg"===s){var g;d.style={...c,...l},Object.assign(d,m);let e=0,r=t.id;return"string"==typeof r&&(r=r.replace(/-/g,"_")),d.dangerouslySetInnerHTML={__html:(g=function(e,t=T){let r;let n=[];for(;r=M.exec(e);)n.push(r[1]);if(!n.length)return e;let o="suffix"+(16777216*Math.random()|Date.now()).toString(16);return n.forEach(r=>{let n="function"==typeof t?t(r):t+(C++).toString(),i=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");e=e.replace(RegExp('([#;"])('+i+')([")]|\\.[a-z])',"g"),"$1"+n+o+"$3")}),e=e.replace(RegExp(o,"g"),"")}(h.body,r?()=>r+"ID"+e++:"iconifyReact"),void 0===n&&function(){try{n=window.trustedTypes.createPolicy("iconify",{createHTML:e=>e})}catch(e){n=null}}(),n?n.createHTML(g):g)},u.createElement("svg",d)}let{body:v,width:k,height:I}=e,S="mask"===s||"bg"!==s&&-1!==v.indexOf("currentColor"),P=function(e,t){let r=-1===e.indexOf("xlink:")?"":' xmlns:xlink="http://www.w3.org/1999/xlink"';for(let e in t)r+=" "+e+'="'+t[e]+'"';return'<svg xmlns="http://www.w3.org/2000/svg"'+r+">"+e+"</svg>"}(v,{...m,width:k+"",height:I+""});return d.style={...c,"--svg":'url("data:image/svg+xml,'+P.replace(/"/g,"'").replace(/%/g,"%25").replace(/#/g,"%23").replace(/</g,"%3C").replace(/>/g,"%3E").replace(/\s+/g," ")+'")',width:fixSize(m.width),height:fixSize(m.height),...H,...S?Y:G,...l},u.createElement("span",d)};if(allowSimpleNames(!0),S[""]={prepare:(e,t,r)=>{let n=[],o=function(e,t){let r;let n=P[e];if(!n)return 0;if(n.maxURL){let e=0;n.resources.forEach(t=>{e=Math.max(e,t.length)}),r=n.maxURL-e-n.path.length-(t+".json?icons=").length}else r=0;return r}(e,t),i="icons",a={type:i,provider:e,prefix:t,icons:[]},s=0;return r.forEach((r,u)=>{(s+=r.length+1)>=o&&u>0&&(n.push(a),a={type:i,provider:e,prefix:t,icons:[]},s=r.length),a.icons.push(r)}),n.push(a),n},send:(e,t,r)=>{if(!E){r("abort",424);return}let n=function(e){if("string"==typeof e){let t=P[e];if(t)return t.path}return"/"}(t.provider);switch(t.type){case"icons":{let e=t.prefix,r=t.icons,o=r.join(","),i=new URLSearchParams({icons:o});n+=e+".json?"+i.toString();break}case"custom":{let e=t.uri;n+="/"===e.slice(0,1)?e.slice(1):e;break}default:r("abort",400);return}let o=503;E(e+n).then(e=>{let t=e.status;if(200!==t){setTimeout(()=>{r(404===t?"abort":"next",t)});return}return o=501,e.json()}).then(e=>{if("object"!=typeof e||null===e){setTimeout(()=>{404===e?r("abort",e):r("next",o)});return}setTimeout(()=>{r("success",e)})}).catch(()=>{r("next",o)})}},"undefined"!=typeof document&&"undefined"!=typeof window){initBrowserStorage();let e=window;if(void 0!==e.IconifyPreload){let t=e.IconifyPreload,r="Invalid IconifyPreload syntax.";"object"==typeof t&&null!==t&&(t instanceof Array?t:[t]).forEach(e=>{try{("object"!=typeof e||null===e||e instanceof Array||"object"!=typeof e.icons||"string"!=typeof e.prefix||!function(e,t){if("object"!=typeof e)return!1;if("string"!=typeof t&&(t=e.provider||""),v&&!t&&!e.prefix){let t=!1;return quicklyValidateIconSet(e)&&(e.prefix="",parseIconSet(e,(e,r)=>{r&&function(e,t){let r=stringToIcon(e,!0,v);if(!r)return!1;let n=getStorage(r.provider,r.prefix);return function(e,t,r){try{if("string"==typeof r.body)return e.icons[t]={...r},!0}catch(e){}return!1}(n,r.name,t)}(e,r)&&(t=!0)})),t}let r=e.prefix;if(!validateIconName({provider:t,prefix:r,name:"a"}))return!1;let n=getStorage(t,r);return!!addIconSet(n,e)}(e))&&console.error(r)}catch(e){console.error(r)}})}if(void 0!==e.IconifyProviders){let t=e.IconifyProviders;if("object"==typeof t&&null!==t)for(let e in t){let r="IconifyProviders["+e+"] is invalid.";try{let n=t[e];if("object"!=typeof n||!n||void 0===n.resources)continue;!function(e,t){let r=createAPIConfig(t);return null!==r&&(P[e]=r,!0)}(e,n)&&console.error(r)}catch(e){console.error(r)}}}}let IconComponent=class IconComponent extends u.Component{constructor(e){super(e),this.state={icon:null}}_abortLoading(){this._loading&&(this._loading.abort(),this._loading=null)}_setData(e){this.state.icon!==e&&this.setState({icon:e})}_checkIcon(e){let t;let r=this.state,n=this.props.icon;if("object"==typeof n&&null!==n&&"string"==typeof n.body){this._icon="",this._abortLoading(),(e||null===r.icon)&&this._setData({data:n});return}if("string"!=typeof n||null===(t=stringToIcon(n,!1,!0))){this._abortLoading(),this._setData(null);return}let o=function(e){let t="string"==typeof e?stringToIcon(e,!0,v):e;if(t){let e=getStorage(t.provider,t.prefix),r=t.name;return e.icons[r]||(e.missing.has(r)?null:void 0)}}(t);if(!o){this._loading&&this._loading.name===n||(this._abortLoading(),this._icon="",this._setData(null),null!==o&&(this._loading={name:n,abort:loadIcons([t],this._checkIcon.bind(this,!1))}));return}if(this._icon!==n||null===r.icon){this._abortLoading(),this._icon=n;let e=["iconify"];""!==t.prefix&&e.push("iconify--"+t.prefix),""!==t.provider&&e.push("iconify--"+t.provider),this._setData({data:o,classes:e}),this.props.onLoad&&this.props.onLoad(n)}}componentDidMount(){this._checkIcon(!1)}componentDidUpdate(e){e.icon!==this.props.icon&&this._checkIcon(!0)}componentWillUnmount(){this._abortLoading()}render(){let e=this.props,t=this.state.icon;if(null===t)return e.children?e.children:u.createElement("span",{});let r=e;return t.classes&&(r={...e,className:("string"==typeof e.className?e.className+" ":"")+t.classes.join(" ")}),render({...f,...t.data},r,e._inline,e._ref)}};let $=u.forwardRef(function(e,t){let r={...e,_ref:t,_inline:!1};return u.createElement(IconComponent,r)});u.forwardRef(function(e,t){let r={...e,_ref:t,_inline:!0};return u.createElement(IconComponent,r)});var ee=r(7462),getMainLayoutClassName=function(e){switch(e){case"stacked":default:return"rhap_stacked";case"stacked-reverse":return"rhap_stacked-reverse";case"horizontal":return"rhap_horizontal";case"horizontal-reverse":return"rhap_horizontal-reverse"}},getPosX=function(e){return e instanceof MouseEvent?e.clientX:e.touches[0].clientX},addHeadingZero=function(e){return e>9?e.toString():"0".concat(e)},getDisplayTimeBySeconds=function(e,t,r){if(!isFinite(e))return null;var n=Math.floor(e/60),o=addHeadingZero(n),i=addHeadingZero(Math.floor(e%60)),a=addHeadingZero(Math.floor(n%60)),s=Math.floor(n/60),u="".concat(o,":").concat(i),c="".concat(s,":").concat(a,":").concat(i);return"auto"===r?t>=3600?c:u:"mm:ss"===r?u:"hh:mm:ss"===r?c:void 0};function throttle(e,t){var r=!1;return function(n){r||(e(n),r=!0,setTimeout(function(){return r=!1},t))}}var et=function(e){_inherits(ProgressBar,e);var t,r=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=_getPrototypeOf(ProgressBar);if(t){var n=_getPrototypeOf(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return _possibleConstructorReturn(this,e)});function ProgressBar(){var e;_classCallCheck(this,ProgressBar);for(var t=arguments.length,n=Array(t),o=0;o<t;o++)n[o]=arguments[o];return e=r.call.apply(r,[this].concat(n)),_defineProperty((0,a.Z)(e),"audio",void 0),_defineProperty((0,a.Z)(e),"timeOnMouseMove",0),_defineProperty((0,a.Z)(e),"hasAddedAudioEventListener",!1),_defineProperty((0,a.Z)(e),"downloadProgressAnimationTimer",void 0),_defineProperty((0,a.Z)(e),"state",{isDraggingProgress:!1,currentTimePos:"0%",hasDownloadProgressAnimation:!1,downloadProgressArr:[],waitingForSeekCallback:!1}),_defineProperty((0,a.Z)(e),"getCurrentProgress",function(t){var r=e.props,n=r.audio,o=r.progressBar;if(0!==n.src.indexOf("blob:")&&void 0===e.props.srcDuration&&(!n.src||!isFinite(n.currentTime)||!o.current))return{currentTime:0,currentTimePos:"0%"};var i=o.current.getBoundingClientRect(),a=i.width,s=getPosX(t)-i.left;return s<0?s=0:s>a&&(s=a),{currentTime:e.getDuration()*s/a,currentTimePos:"".concat((s/a*100).toFixed(2),"%")}}),_defineProperty((0,a.Z)(e),"handleContextMenu",function(e){e.preventDefault()}),_defineProperty((0,a.Z)(e),"handleMouseDownOrTouchStartProgressBar",function(t){t.stopPropagation();var r=e.getCurrentProgress(t.nativeEvent),n=r.currentTime,o=r.currentTimePos;isFinite(n)&&(e.timeOnMouseMove=n,e.setState({isDraggingProgress:!0,currentTimePos:o}),t.nativeEvent instanceof MouseEvent?(window.addEventListener("mousemove",e.handleWindowMouseOrTouchMove),window.addEventListener("mouseup",e.handleWindowMouseOrTouchUp)):(window.addEventListener("touchmove",e.handleWindowMouseOrTouchMove),window.addEventListener("touchend",e.handleWindowMouseOrTouchUp)))}),_defineProperty((0,a.Z)(e),"handleWindowMouseOrTouchMove",function(t){t instanceof MouseEvent&&t.preventDefault(),t.stopPropagation();var r=window.getSelection();if(r&&"Range"===r.type&&r.empty(),e.state.isDraggingProgress){var n=e.getCurrentProgress(t),o=n.currentTime,i=n.currentTimePos;e.timeOnMouseMove=o,e.setState({currentTimePos:i})}}),_defineProperty((0,a.Z)(e),"handleWindowMouseOrTouchUp",function(t){t.stopPropagation();var r=e.timeOnMouseMove,n=e.props,o=n.audio,i=n.onChangeCurrentTimeError,a=n.onSeek;if(a)e.setState({isDraggingProgress:!1,waitingForSeekCallback:!0},function(){a(o,r).then(function(){return e.setState({waitingForSeekCallback:!1})},function(e){throw Error(e)})});else{var s={isDraggingProgress:!1};if(o.readyState===o.HAVE_NOTHING||o.readyState===o.HAVE_METADATA||!isFinite(r))try{o.load()}catch(e){return s.currentTimePos="0%",i&&i(e)}o.currentTime=r,e.setState(s)}t instanceof MouseEvent?(window.removeEventListener("mousemove",e.handleWindowMouseOrTouchMove),window.removeEventListener("mouseup",e.handleWindowMouseOrTouchUp)):(window.removeEventListener("touchmove",e.handleWindowMouseOrTouchMove),window.removeEventListener("touchend",e.handleWindowMouseOrTouchUp))}),_defineProperty((0,a.Z)(e),"handleAudioTimeUpdate",throttle(function(t){var r=e.state.isDraggingProgress,n=t.target;if(!r&&!0!==e.state.waitingForSeekCallback){var o=n.currentTime,i=e.getDuration();e.setState({currentTimePos:"".concat((o/i*100||0).toFixed(2),"%")})}},e.props.progressUpdateInterval)),_defineProperty((0,a.Z)(e),"handleAudioDownloadProgressUpdate",function(t){for(var r=t.target,n=e.getDuration(),o=[],i=0;i<r.buffered.length;i++){var a=r.buffered.start(i),s=r.buffered.end(i);o.push({left:"".concat(Math.round(100/n*a)||0,"%"),width:"".concat(Math.round(100/n*(s-a))||0,"%")})}clearTimeout(e.downloadProgressAnimationTimer),e.setState({downloadProgressArr:o,hasDownloadProgressAnimation:!0}),e.downloadProgressAnimationTimer=setTimeout(function(){e.setState({hasDownloadProgressAnimation:!1})},200)}),e}return _createClass(ProgressBar,[{key:"getDuration",value:function(){var e=this.props,t=e.audio,r=e.srcDuration;return void 0===r?t.duration:r}},{key:"initialize",value:function(){var e=this.props.audio;e&&!this.hasAddedAudioEventListener&&(this.audio=e,this.hasAddedAudioEventListener=!0,e.addEventListener("timeupdate",this.handleAudioTimeUpdate),e.addEventListener("progress",this.handleAudioDownloadProgressUpdate))}},{key:"componentDidMount",value:function(){this.initialize()}},{key:"componentDidUpdate",value:function(){this.initialize()}},{key:"componentWillUnmount",value:function(){this.audio&&this.hasAddedAudioEventListener&&(this.audio.removeEventListener("timeupdate",this.handleAudioTimeUpdate),this.audio.removeEventListener("progress",this.handleAudioDownloadProgressUpdate)),clearTimeout(this.downloadProgressAnimationTimer)}},{key:"render",value:function(){var e=this.props,t=e.showDownloadProgress,r=e.showFilledProgress,n=e.progressBar,o=e.i18nProgressBar,i=this.state,a=i.currentTimePos,s=i.downloadProgressArr,c=i.hasDownloadProgressAnimation;return u.createElement("div",{className:"rhap_progress-container",ref:n,"aria-label":o,role:"progressbar","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":Number(a.split("%")[0]),tabIndex:0,onMouseDown:this.handleMouseDownOrTouchStartProgressBar,onTouchStart:this.handleMouseDownOrTouchStartProgressBar,onContextMenu:this.handleContextMenu},u.createElement("div",{className:"rhap_progress-bar ".concat(t?"rhap_progress-bar-show-download":"")},u.createElement("div",{className:"rhap_progress-indicator",style:{left:a}}),r&&u.createElement("div",{className:"rhap_progress-filled",style:{width:a}}),t&&s.map(function(e,t){var r=e.left,n=e.width;return u.createElement("div",{key:t,className:"rhap_download-progress",style:{left:r,width:n,transitionDuration:c?".2s":"0s"}})})))}}]),ProgressBar}(u.Component),er=(0,u.forwardRef)(function(e,t){return u.createElement(et,(0,ee.Z)({},e,{progressBar:t}))}),en=function(e){_inherits(CurrentTime,e);var t,r=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=_getPrototypeOf(CurrentTime);if(t){var n=_getPrototypeOf(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return _possibleConstructorReturn(this,e)});function CurrentTime(e){_classCallCheck(this,CurrentTime),t=r.call(this,e),_defineProperty((0,a.Z)(t),"audio",void 0),_defineProperty((0,a.Z)(t),"hasAddedAudioEventListener",!1),_defineProperty((0,a.Z)(t),"state",{currentTime:t.props.defaultCurrentTime}),_defineProperty((0,a.Z)(t),"handleAudioCurrentTimeChange",function(e){var r=e.target,n=t.props,o=n.isLeftTime,i=n.timeFormat,a=n.defaultCurrentTime;t.setState({currentTime:getDisplayTimeBySeconds(o?r.duration-r.currentTime:r.currentTime,r.duration,i)||a})}),_defineProperty((0,a.Z)(t),"addAudioEventListeners",function(){var e=t.props.audio;e&&!t.hasAddedAudioEventListener&&(t.audio=e,t.hasAddedAudioEventListener=!0,e.addEventListener("timeupdate",t.handleAudioCurrentTimeChange),e.addEventListener("loadedmetadata",t.handleAudioCurrentTimeChange))});var t,n=e.audio,o=e.defaultCurrentTime,i=e.isLeftTime,s=e.timeFormat,u=o;return n&&(u=getDisplayTimeBySeconds(i?n.duration-n.currentTime:n.currentTime,n.duration,s)),t.state={currentTime:u},t}return _createClass(CurrentTime,[{key:"componentDidMount",value:function(){this.addAudioEventListeners()}},{key:"componentDidUpdate",value:function(){this.addAudioEventListeners()}},{key:"componentWillUnmount",value:function(){this.audio&&this.hasAddedAudioEventListener&&(this.audio.removeEventListener("timeupdate",this.handleAudioCurrentTimeChange),this.audio.removeEventListener("loadedmetadata",this.handleAudioCurrentTimeChange))}},{key:"render",value:function(){return this.state.currentTime}}]),CurrentTime}(u.PureComponent),eo=function(e){_inherits(Duration,e);var t,r=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=_getPrototypeOf(Duration);if(t){var n=_getPrototypeOf(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return _possibleConstructorReturn(this,e)});function Duration(e){_classCallCheck(this,Duration),t=r.call(this,e),_defineProperty((0,a.Z)(t),"audio",void 0),_defineProperty((0,a.Z)(t),"hasAddedAudioEventListener",!1),_defineProperty((0,a.Z)(t),"state",{duration:t.props.audio?getDisplayTimeBySeconds(t.props.audio.duration,t.props.audio.duration,t.props.timeFormat):t.props.defaultDuration}),_defineProperty((0,a.Z)(t),"handleAudioDurationChange",function(e){var r=e.target,n=t.props,o=n.timeFormat,i=n.defaultDuration;t.setState({duration:getDisplayTimeBySeconds(r.duration,r.duration,o)||i})}),_defineProperty((0,a.Z)(t),"addAudioEventListeners",function(){var e=t.props.audio;e&&!t.hasAddedAudioEventListener&&(t.audio=e,t.hasAddedAudioEventListener=!0,e.addEventListener("durationchange",t.handleAudioDurationChange),e.addEventListener("abort",t.handleAudioDurationChange))});var t,n=e.audio,o=e.timeFormat,i=e.defaultDuration;return t.state={duration:n?getDisplayTimeBySeconds(n.duration,n.duration,o):i},t}return _createClass(Duration,[{key:"componentDidMount",value:function(){this.addAudioEventListeners()}},{key:"componentDidUpdate",value:function(){this.addAudioEventListeners()}},{key:"componentWillUnmount",value:function(){this.audio&&this.hasAddedAudioEventListener&&(this.audio.removeEventListener("durationchange",this.handleAudioDurationChange),this.audio.removeEventListener("abort",this.handleAudioDurationChange))}},{key:"render",value:function(){return this.state.duration}}]),Duration}(u.PureComponent),ei=function(e){_inherits(VolumeControls,e);var t,r=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=_getPrototypeOf(VolumeControls);if(t){var n=_getPrototypeOf(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return _possibleConstructorReturn(this,e)});function VolumeControls(){var e;_classCallCheck(this,VolumeControls);for(var t=arguments.length,n=Array(t),o=0;o<t;o++)n[o]=arguments[o];return e=r.call.apply(r,[this].concat(n)),_defineProperty((0,a.Z)(e),"audio",void 0),_defineProperty((0,a.Z)(e),"hasAddedAudioEventListener",!1),_defineProperty((0,a.Z)(e),"volumeBar",(0,u.createRef)()),_defineProperty((0,a.Z)(e),"volumeAnimationTimer",0),_defineProperty((0,a.Z)(e),"lastVolume",e.props.volume),_defineProperty((0,a.Z)(e),"state",{currentVolumePos:"".concat((e.lastVolume/1*100||0).toFixed(2),"%"),hasVolumeAnimation:!1,isDraggingVolume:!1}),_defineProperty((0,a.Z)(e),"getCurrentVolume",function(t){var r,n,o=e.props.audio;if(!e.volumeBar.current)return{currentVolume:o.volume,currentVolumePos:e.state.currentVolumePos};var i=e.volumeBar.current.getBoundingClientRect(),a=i.width,s=getPosX(t)-i.left;return s<0?(r=0,n="0%"):s>i.width?(r=1,n="100%"):(r=s/a,n="".concat(s/a*100,"%")),{currentVolume:r,currentVolumePos:n}}),_defineProperty((0,a.Z)(e),"handleContextMenu",function(e){e.preventDefault()}),_defineProperty((0,a.Z)(e),"handleClickVolumeButton",function(){var t=e.props.audio;t.volume>0?(e.lastVolume=t.volume,t.volume=0):t.volume=e.lastVolume}),_defineProperty((0,a.Z)(e),"handleVolumnControlMouseOrTouchDown",function(t){t.stopPropagation();var r=e.props.audio,n=e.getCurrentVolume(t.nativeEvent),o=n.currentVolume,i=n.currentVolumePos;r.volume=o,e.setState({isDraggingVolume:!0,currentVolumePos:i}),t.nativeEvent instanceof MouseEvent?(window.addEventListener("mousemove",e.handleWindowMouseOrTouchMove),window.addEventListener("mouseup",e.handleWindowMouseOrTouchUp)):(window.addEventListener("touchmove",e.handleWindowMouseOrTouchMove),window.addEventListener("touchend",e.handleWindowMouseOrTouchUp))}),_defineProperty((0,a.Z)(e),"handleWindowMouseOrTouchMove",function(t){t instanceof MouseEvent&&t.preventDefault(),t.stopPropagation();var r=e.props.audio,n=window.getSelection();if(n&&"Range"===n.type&&n.empty(),e.state.isDraggingVolume){var o=e.getCurrentVolume(t),i=o.currentVolume,a=o.currentVolumePos;r.volume=i,e.setState({currentVolumePos:a})}}),_defineProperty((0,a.Z)(e),"handleWindowMouseOrTouchUp",function(t){t.stopPropagation(),e.setState({isDraggingVolume:!1}),t instanceof MouseEvent?(window.removeEventListener("mousemove",e.handleWindowMouseOrTouchMove),window.removeEventListener("mouseup",e.handleWindowMouseOrTouchUp)):(window.removeEventListener("touchmove",e.handleWindowMouseOrTouchMove),window.removeEventListener("touchend",e.handleWindowMouseOrTouchUp))}),_defineProperty((0,a.Z)(e),"handleAudioVolumeChange",function(t){var r=e.state.isDraggingVolume,n=t.target.volume;(e.lastVolume>0&&0===n||0===e.lastVolume&&n>0)&&e.props.onMuteChange(),e.lastVolume=n,r||(e.setState({hasVolumeAnimation:!0,currentVolumePos:"".concat((n/1*100||0).toFixed(2),"%")}),clearTimeout(e.volumeAnimationTimer),e.volumeAnimationTimer=setTimeout(function(){e.setState({hasVolumeAnimation:!1})},100))}),e}return _createClass(VolumeControls,[{key:"componentDidUpdate",value:function(){var e=this.props.audio;e&&!this.hasAddedAudioEventListener&&(this.audio=e,this.hasAddedAudioEventListener=!0,e.addEventListener("volumechange",this.handleAudioVolumeChange))}},{key:"componentWillUnmount",value:function(){this.audio&&this.hasAddedAudioEventListener&&this.audio.removeEventListener("volumechange",this.handleAudioVolumeChange),clearTimeout(this.volumeAnimationTimer)}},{key:"render",value:function(){var e=this.props,t=e.audio,r=e.showFilledVolume,n=e.i18nVolumeControl,o=this.state,i=o.currentVolumePos,a=o.hasVolumeAnimation,s=(t||{}).volume;return u.createElement("div",{ref:this.volumeBar,onMouseDown:this.handleVolumnControlMouseOrTouchDown,onTouchStart:this.handleVolumnControlMouseOrTouchDown,onContextMenu:this.handleContextMenu,role:"progressbar","aria-label":n,"aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":Number((100*s).toFixed(0)),tabIndex:0,className:"rhap_volume-bar-area"},u.createElement("div",{className:"rhap_volume-bar"},u.createElement("div",{className:"rhap_volume-indicator",style:{left:i,transitionDuration:a?".1s":"0s"}}),r&&u.createElement("div",{className:"rhap_volume-filled",style:{width:i}})))}}]),VolumeControls}(u.Component);(o=i||(i={})).CURRENT_TIME="CURRENT_TIME",o.CURRENT_LEFT_TIME="CURRENT_LEFT_TIME",o.PROGRESS_BAR="PROGRESS_BAR",o.DURATION="DURATION",o.ADDITIONAL_CONTROLS="ADDITIONAL_CONTROLS",o.MAIN_CONTROLS="MAIN_CONTROLS",o.VOLUME_CONTROLS="VOLUME_CONTROLS",o.LOOP="LOOP",o.VOLUME="VOLUME";var ea=function(e){_inherits(H5AudioPlayer,e);var t,r=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=_getPrototypeOf(H5AudioPlayer);if(t){var n=_getPrototypeOf(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return _possibleConstructorReturn(this,e)});function H5AudioPlayer(){var e;_classCallCheck(this,H5AudioPlayer);for(var t=arguments.length,n=Array(t),o=0;o<t;o++)n[o]=arguments[o];return e=r.call.apply(r,[this].concat(n)),_defineProperty((0,a.Z)(e),"audio",(0,u.createRef)()),_defineProperty((0,a.Z)(e),"progressBar",(0,u.createRef)()),_defineProperty((0,a.Z)(e),"container",(0,u.createRef)()),_defineProperty((0,a.Z)(e),"lastVolume",e.props.volume),_defineProperty((0,a.Z)(e),"listenTracker",void 0),_defineProperty((0,a.Z)(e),"volumeAnimationTimer",void 0),_defineProperty((0,a.Z)(e),"downloadProgressAnimationTimer",void 0),_defineProperty((0,a.Z)(e),"togglePlay",function(t){t.stopPropagation();var r=e.audio.current;(r.paused||r.ended)&&r.src?e.playAudioPromise():r.paused||r.pause()}),_defineProperty((0,a.Z)(e),"playAudioPromise",function(){e.audio.current.error&&e.audio.current.load();var t=e.audio.current.play();t?t.then(null).catch(function(t){var r=e.props.onPlayError;r&&r(Error(t))}):e.forceUpdate()}),_defineProperty((0,a.Z)(e),"isPlaying",function(){var t=e.audio.current;return!!t&&!t.paused&&!t.ended}),_defineProperty((0,a.Z)(e),"handlePlay",function(t){e.forceUpdate(),e.props.onPlay&&e.props.onPlay(t)}),_defineProperty((0,a.Z)(e),"handlePause",function(t){e.audio&&(e.forceUpdate(),e.props.onPause&&e.props.onPause(t))}),_defineProperty((0,a.Z)(e),"handleEnded",function(t){e.audio&&(e.forceUpdate(),e.props.onEnded&&e.props.onEnded(t))}),_defineProperty((0,a.Z)(e),"handleAbort",function(t){e.props.onAbort&&e.props.onAbort(t)}),_defineProperty((0,a.Z)(e),"handleClickVolumeButton",function(){var t=e.audio.current;t.volume>0?(e.lastVolume=t.volume,t.volume=0):t.volume=e.lastVolume}),_defineProperty((0,a.Z)(e),"handleMuteChange",function(){e.forceUpdate()}),_defineProperty((0,a.Z)(e),"handleClickLoopButton",function(){e.audio.current.loop=!e.audio.current.loop,e.forceUpdate()}),_defineProperty((0,a.Z)(e),"handleClickRewind",function(){var t=e.props,r=t.progressJumpSteps,n=t.progressJumpStep,o=r.backward||n;e.setJumpTime(-o)}),_defineProperty((0,a.Z)(e),"handleClickForward",function(){var t=e.props,r=t.progressJumpSteps,n=t.progressJumpStep,o=r.forward||n;e.setJumpTime(o)}),_defineProperty((0,a.Z)(e),"setJumpTime",function(t){var r=e.audio.current,n=r.duration,o=r.currentTime;if(r.readyState===r.HAVE_NOTHING||r.readyState===r.HAVE_METADATA||!isFinite(n)||!isFinite(o))try{r.load()}catch(t){return e.props.onChangeCurrentTimeError&&e.props.onChangeCurrentTimeError(t)}var i=o+t/1e3;i<0?(r.currentTime=0,i=0):i>n?(r.currentTime=n,i=n):r.currentTime=i}),_defineProperty((0,a.Z)(e),"setJumpVolume",function(t){var r=e.audio.current.volume+t;r<0?r=0:r>1&&(r=1),e.audio.current.volume=r}),_defineProperty((0,a.Z)(e),"handleKeyDown",function(t){if(e.props.hasDefaultKeyBindings)switch(t.key){case" ":(t.target===e.container.current||t.target===e.progressBar.current)&&(t.preventDefault(),e.togglePlay(t));break;case"ArrowLeft":e.handleClickRewind();break;case"ArrowRight":e.handleClickForward();break;case"ArrowUp":t.preventDefault(),e.setJumpVolume(e.props.volumeJumpStep);break;case"ArrowDown":t.preventDefault(),e.setJumpVolume(-e.props.volumeJumpStep);break;case"l":e.handleClickLoopButton();break;case"m":e.handleClickVolumeButton()}}),_defineProperty((0,a.Z)(e),"renderUIModules",function(t){return t.map(function(t,r){return e.renderUIModule(t,r)})}),_defineProperty((0,a.Z)(e),"renderUIModule",function(t,r){var n=e.props,o=n.defaultCurrentTime,a=n.progressUpdateInterval,s=n.showDownloadProgress,c=n.showFilledProgress,l=n.showFilledVolume,d=n.defaultDuration,f=n.customIcons,h=n.showSkipControls,m=n.onClickPrevious,g=n.onClickNext,v=n.onChangeCurrentTimeError,b=n.showJumpControls,w=n.customAdditionalControls,k=n.customVolumeControls,I=n.muted,M=n.timeFormat,T=n.volume,C=n.loop,S=n.mse,P=n.i18nAriaLabels;switch(t){case i.CURRENT_TIME:return u.createElement("div",{key:r,id:"rhap_current-time",className:"rhap_time rhap_current-time"},u.createElement(en,{audio:e.audio.current,isLeftTime:!1,defaultCurrentTime:o,timeFormat:M}));case i.CURRENT_LEFT_TIME:return u.createElement("div",{key:r,id:"rhap_current-left-time",className:"rhap_time rhap_current-left-time"},u.createElement(en,{audio:e.audio.current,isLeftTime:!0,defaultCurrentTime:o,timeFormat:M}));case i.PROGRESS_BAR:return u.createElement(er,{key:r,ref:e.progressBar,audio:e.audio.current,progressUpdateInterval:a,showDownloadProgress:s,showFilledProgress:c,onSeek:S&&S.onSeek,onChangeCurrentTimeError:v,srcDuration:S&&S.srcDuration,i18nProgressBar:P.progressControl});case i.DURATION:return u.createElement("div",{key:r,className:"rhap_time rhap_total-time"},S&&S.srcDuration?getDisplayTimeBySeconds(S.srcDuration,S.srcDuration,e.props.timeFormat):u.createElement(eo,{audio:e.audio.current,defaultDuration:d,timeFormat:M}));case i.ADDITIONAL_CONTROLS:return u.createElement("div",{key:r,className:"rhap_additional-controls"},e.renderUIModules(w));case i.MAIN_CONTROLS:var N,O=e.isPlaying();return N=O?f.pause?f.pause:u.createElement($,{icon:"mdi:pause-circle"}):f.play?f.play:u.createElement($,{icon:"mdi:play-circle"}),u.createElement("div",{key:r,className:"rhap_main-controls"},h&&u.createElement("button",{"aria-label":P.previous,className:"rhap_button-clear rhap_main-controls-button rhap_skip-button",type:"button",onClick:m},f.previous?f.previous:u.createElement($,{icon:"mdi:skip-previous"})),b&&u.createElement("button",{"aria-label":P.rewind,className:"rhap_button-clear rhap_main-controls-button rhap_rewind-button",type:"button",onClick:e.handleClickRewind},f.rewind?f.rewind:u.createElement($,{icon:"mdi:rewind"})),u.createElement("button",{"aria-label":O?P.pause:P.play,className:"rhap_button-clear rhap_main-controls-button rhap_play-pause-button",type:"button",onClick:e.togglePlay},N),b&&u.createElement("button",{"aria-label":P.forward,className:"rhap_button-clear rhap_main-controls-button rhap_forward-button",type:"button",onClick:e.handleClickForward},f.forward?f.forward:u.createElement($,{icon:"mdi:fast-forward"})),h&&u.createElement("button",{"aria-label":P.next,className:"rhap_button-clear rhap_main-controls-button rhap_skip-button",type:"button",onClick:g},f.next?f.next:u.createElement($,{icon:"mdi:skip-next"})));case i.VOLUME_CONTROLS:return u.createElement("div",{key:r,className:"rhap_volume-controls"},e.renderUIModules(k));case i.LOOP:var E,x=e.audio.current?e.audio.current.loop:C;return E=x?f.loop?f.loop:u.createElement($,{icon:"mdi:repeat"}):f.loopOff?f.loopOff:u.createElement($,{icon:"mdi:repeat-off"}),u.createElement("button",{key:r,"aria-label":x?P.loop:P.loopOff,className:"rhap_button-clear rhap_repeat-button",type:"button",onClick:e.handleClickLoopButton},E);case i.VOLUME:var L,_=(e.audio.current||{}).volume,D=void 0===_?I?0:T:_;return L=D?f.volume?f.volume:u.createElement($,{icon:"mdi:volume-high"}):f.volume?f.volumeMute:u.createElement($,{icon:"mdi:volume-mute"}),u.createElement("div",{key:r,className:"rhap_volume-container"},u.createElement("button",{"aria-label":D?P.volume:P.volumeMute,onClick:e.handleClickVolumeButton,type:"button",className:"rhap_button-clear rhap_volume-button"},L),u.createElement(ei,{audio:e.audio.current,volume:D,onMuteChange:e.handleMuteChange,showFilledVolume:l,i18nVolumeControl:P.volumeControl}));default:if(!(0,u.isValidElement)(t))return null;return t.key?t:(0,u.cloneElement)(t,{key:r})}}),e}return _createClass(H5AudioPlayer,[{key:"componentDidMount",value:function(){var e=this;this.forceUpdate();var t=this.audio.current;this.props.muted?t.volume=0:t.volume=this.lastVolume,t.addEventListener("error",function(t){var r=t.target;if(r.error&&r.currentTime===r.duration)return e.props.onEnded&&e.props.onEnded(t);e.props.onError&&e.props.onError(t)}),t.addEventListener("canplay",function(t){e.props.onCanPlay&&e.props.onCanPlay(t)}),t.addEventListener("canplaythrough",function(t){e.props.onCanPlayThrough&&e.props.onCanPlayThrough(t)}),t.addEventListener("play",this.handlePlay),t.addEventListener("abort",this.handleAbort),t.addEventListener("ended",this.handleEnded),t.addEventListener("playing",function(t){e.props.onPlaying&&e.props.onPlaying(t)}),t.addEventListener("seeking",function(t){e.props.onSeeking&&e.props.onSeeking(t)}),t.addEventListener("seeked",function(t){e.props.onSeeked&&e.props.onSeeked(t)}),t.addEventListener("waiting",function(t){e.props.onWaiting&&e.props.onWaiting(t)}),t.addEventListener("emptied",function(t){e.props.onEmptied&&e.props.onEmptied(t)}),t.addEventListener("stalled",function(t){e.props.onStalled&&e.props.onStalled(t)}),t.addEventListener("suspend",function(t){e.props.onSuspend&&e.props.onSuspend(t)}),t.addEventListener("loadstart",function(t){e.props.onLoadStart&&e.props.onLoadStart(t)}),t.addEventListener("loadedmetadata",function(t){e.props.onLoadedMetaData&&e.props.onLoadedMetaData(t)}),t.addEventListener("loadeddata",function(t){e.props.onLoadedData&&e.props.onLoadedData(t)}),t.addEventListener("pause",this.handlePause),t.addEventListener("timeupdate",throttle(function(t){e.props.onListen&&e.props.onListen(t)},this.props.listenInterval)),t.addEventListener("volumechange",function(t){e.props.onVolumeChange&&e.props.onVolumeChange(t)}),t.addEventListener("encrypted",function(t){var r=e.props.mse;r&&r.onEcrypted&&r.onEcrypted(t)})}},{key:"componentDidUpdate",value:function(e){var t=this.props,r=t.src,n=t.autoPlayAfterSrcChange;e.src!==r&&(n?this.playAudioPromise():this.forceUpdate())}},{key:"render",value:function(){var e=this.props,t=e.className,r=e.src,n=e.loop,o=e.preload,i=e.autoPlay,a=e.crossOrigin,s=e.mediaGroup,c=e.header,l=e.footer,d=e.layout,f=e.customProgressBarSection,h=e.customControlsSection,m=e.children,g=e.style,v=e.i18nAriaLabels,b=this.audio.current?this.audio.current.loop:n,w=this.isPlaying()?"rhap_play-status--playing":"rhap_play-status--paused";return u.createElement("div",{role:"group",tabIndex:0,"aria-label":v.player,className:"rhap_container ".concat(b?"rhap_loop--on":"rhap_loop--off"," ").concat(w," ").concat(t),onKeyDown:this.handleKeyDown,ref:this.container,style:g},u.createElement("audio",{src:r,controls:!1,loop:b,autoPlay:i,preload:o,crossOrigin:a,mediaGroup:s,ref:this.audio},m),c&&u.createElement("div",{className:"rhap_header"},c),u.createElement("div",{className:"rhap_main ".concat(getMainLayoutClassName(d))},u.createElement("div",{className:"rhap_progress-section"},this.renderUIModules(f)),u.createElement("div",{className:"rhap_controls-section"},this.renderUIModules(h))),l&&u.createElement("div",{className:"rhap_footer"},l))}}]),H5AudioPlayer}(u.Component);_defineProperty(ea,"defaultProps",{autoPlay:!1,autoPlayAfterSrcChange:!0,listenInterval:1e3,progressJumpStep:5e3,progressJumpSteps:{},volumeJumpStep:.1,loop:!1,muted:!1,preload:"auto",progressUpdateInterval:20,defaultCurrentTime:"--:--",defaultDuration:"--:--",timeFormat:"auto",volume:1,className:"",showJumpControls:!0,showSkipControls:!1,showDownloadProgress:!0,showFilledProgress:!0,showFilledVolume:!1,customIcons:{},customProgressBarSection:[i.CURRENT_TIME,i.PROGRESS_BAR,i.DURATION],customControlsSection:[i.ADDITIONAL_CONTROLS,i.MAIN_CONTROLS,i.VOLUME_CONTROLS],customAdditionalControls:[i.LOOP],customVolumeControls:[i.VOLUME],layout:"stacked",hasDefaultKeyBindings:!0,i18nAriaLabels:{player:"Audio player",progressControl:"Audio progress control",volumeControl:"Volume control",play:"Play",pause:"Pause",rewind:"Rewind",forward:"Forward",previous:"Previous",next:"Skip",loop:"Disable loop",loopOff:"Enable loop",volume:"Mute",volumeMute:"Unmute"}});var es=ea},7326:function(e,t,r){"use strict";function _assertThisInitialized(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}r.d(t,{Z:function(){return _assertThisInitialized}})},7462:function(e,t,r){"use strict";function _extends(){return(_extends=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(null,arguments)}r.d(t,{Z:function(){return _extends}})},9611:function(e,t,r){"use strict";function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}r.d(t,{Z:function(){return _setPrototypeOf}})},2968:function(e,t,r){"use strict";r.d(t,{I:function(){return gr},h:function(){return pr}});var n,o=r(7294);(e=>{try{if(typeof window>"u")return;var t=document.createElement("style");t.appendChild(document.createTextNode(e)),document.head.appendChild(t)}catch(e){console.error("vite-plugin-css-injected-by-js",e)}})(".audio-recorder{background-color:#ebebeb;box-shadow:0 2px 5px #bebebe;border-radius:20px;box-sizing:border-box;color:#000;width:40px;display:flex;align-items:center;transition:all .2s ease-in;-webkit-tap-highlight-color:transparent}.audio-recorder-mic{box-sizing:content-box;cursor:pointer;height:16px;color:#000;padding:12px}.audio-recorder .audio-recorder-mic{border-radius:20px}.audio-recorder.recording .audio-recorder-mic{border-radius:0}.audio-recorder-timer,.audio-recorder-status{color:#000;margin-left:10px;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif;font-size:14px;font-weight:400;line-height:1}.audio-recorder-status{margin-left:15px;display:flex;align-items:baseline;flex-grow:1;animation-name:fading-ar-status;animation-duration:2s;animation-iteration-count:infinite}.audio-recorder-status-dot{background-color:#d00;border-radius:50%;height:10px;width:9px;margin-right:5px}.audio-recorder-options{box-sizing:content-box;height:16px;cursor:pointer;padding:12px 6px 12px 12px}.audio-recorder-options~.audio-recorder-options{padding:12px 12px 12px 6px;border-radius:0 5px 5px 0}.recording{border-radius:12px;width:300px;transition:all .2s ease-out}.display-none{display:none}.audio-recorder-visualizer{margin-left:15px;flex-grow:1;align-self:center;display:flex;align-items:center}@keyframes fading-ar-status{0%{opacity:1}50%{opacity:0}to{opacity:1}}");var i={exports:{}},a={};i.exports=function(){if(n)return a;n=1;var e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function y(t,n,o){var a,u={},c=null,l=null;for(a in void 0!==o&&(c=""+o),void 0!==n.key&&(c=""+n.key),void 0!==n.ref&&(l=n.ref),n)r.call(n,a)&&!s.hasOwnProperty(a)&&(u[a]=n[a]);if(t&&t.defaultProps)for(a in n=t.defaultProps)void 0===u[a]&&(u[a]=n[a]);return{$$typeof:e,type:t,key:c,ref:l,props:u,_owner:i.current}}return a.Fragment=t,a.jsx=y,a.jsxs=y,a}();var s=i.exports;let gr=(e,t,r)=>{let[n,i]=(0,o.useState)(!1),[a,s]=(0,o.useState)(!1),[u,c]=(0,o.useState)(0),[l,d]=(0,o.useState)(),[f,h]=(0,o.useState)(),[m,g]=(0,o.useState)(),v=(0,o.useCallback)(()=>{let e=setInterval(()=>{c(e=>e+1)},1e3);h(e)},[c,h]),b=(0,o.useCallback)(()=>{null!=f&&clearInterval(f),h(void 0)},[f,h]),w=(0,o.useCallback)(()=>{null==f&&navigator.mediaDevices.getUserMedia({audio:e??!0}).then(e=>{i(!0);let t=new MediaRecorder(e,r);d(t),t.start(),v(),t.addEventListener("dataavailable",e=>{g(e.data),t.stream.getTracks().forEach(e=>e.stop()),d(void 0)})}).catch(e=>{console.log(e.name,e.message,e.cause),null==t||t(e)})},[f,i,d,v,g,t,r]),k=(0,o.useCallback)(()=>{null==l||l.stop(),b(),c(0),i(!1),s(!1)},[l,c,i,s,b]),I=(0,o.useCallback)(()=>{a?(s(!1),null==l||l.resume(),v()):(s(!0),b(),null==l||l.pause())},[l,s,v,b]);return{startRecording:w,stopRecording:k,togglePauseResume:I,recordingBlob:m,isRecording:n,isPaused:a,recordingTime:u,mediaRecorder:l}},u=o.lazy(async()=>{let{LiveAudioVisualizer:e}=await r.e(893).then(r.bind(r,4893));return{default:e}}),pr=({onRecordingComplete:e,onNotAllowedOrFound:t,recorderControls:n,audioTrackConstraints:i,downloadOnSavePress:a=!1,downloadFileExtension:c="webm",showVisualizer:l=!1,mediaRecorderOptions:d,classes:f})=>{let{startRecording:h,stopRecording:m,togglePauseResume:g,recordingBlob:v,isRecording:b,isPaused:w,recordingTime:k,mediaRecorder:I}=n??gr(i,t,d),[M,T]=(0,o.useState)(!1),V=(e=!0)=>{T(e),m()},p=async e=>{let t=(await r.e(915).then(r.bind(r,6128)).then(e=>e.i)).createFFmpeg({log:!1});await t.load();let n="input.webm",o=`output.${c}`;t.FS("writeFile",n,new Uint8Array(await e.arrayBuffer())),await t.run("-i",n,o);let i=t.FS("readFile",o);return new Blob([i.buffer],{type:`audio/${c}`})},R=async e=>{crossOriginIsolated||"webm"===c||console.warn('This website is not "cross-origin isolated". Audio will be downloaded in webm format, since mp3/wav encoding requires cross origin isolation. Please visit https://web.dev/cross-origin-isolation-guide/ and https://web.dev/coop-coep/ for information on how to make your website "cross-origin isolated"');let t=crossOriginIsolated?await p(e):e,r=crossOriginIsolated?c:"webm",n=URL.createObjectURL(t),o=document.createElement("a");o.style.display="none",o.href=n,o.download=`audio.${r}`,document.body.appendChild(o),o.click(),o.remove()};return(0,o.useEffect)(()=>{(M||n)&&null!=v&&null!=e&&(e(v),a&&R(v))},[v]),s.jsxs("div",{className:`audio-recorder ${b?"recording":""} ${(null==f?void 0:f.AudioRecorderClass)??""}`,"data-testid":"audio_recorder",children:[s.jsx("img",{src:b?"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMThweCIgaGVpZ2h0PSIxOHB4IiB2aWV3Qm94PSIwIDAgMTggMTgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgPHBhdGggZmlsbD0iIzAwMDAwMCIgZD0iTTE3Ljg1IDMuMTVsLTIuOTktM0EuNTA4LjUwOCAwIDAgMCAxNC41IDBIMS40QTEuNDE3IDEuNDE3IDAgMCAwIDAgMS40M3YxNS4xNEExLjQxNyAxLjQxNyAwIDAgMCAxLjQgMThoMTUuMmExLjQxNyAxLjQxNyAwIDAgMCAxLjQtMS40M1YzLjVhLjQ3LjQ3IDAgMCAwLS4xNS0uMzV6TTIgNVYzYTEgMSAwIDAgMSAxLTFoOGExIDEgMCAwIDEgMSAxdjJhMSAxIDAgMCAxLTEgMUgzYTEgMSAwIDAgMS0xLTF6bTcgMTFhNCA0IDAgMSAxIDQtNCA0IDQgMCAwIDEtNCA0eiIvPgo8L3N2Zz4K":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pgo8IS0tIEdlbmVyYXRvcjogQWRvYmUgSWxsdXN0cmF0b3IgMTkuMC4wLCBTVkcgRXhwb3J0IFBsdWctSW4gLiBTVkcgVmVyc2lvbjogNi4wMCBCdWlsZCAwKSAgLS0+CjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0iTGF5ZXJfMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IiB5PSIwcHgiCgkgdmlld0JveD0iMCAwIDQ3MCA0NzAiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDQ3MCA0NzA7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4KCTxnPgoJCTxwYXRoIGQ9Ik0yMzUsMzAyLjI5NmM0Ny4xNzcsMCw4NS40MjMtMzguMjQ1LDg1LjQyMy04NS40MjNWODUuNDIzQzMyMC40MjMsMzguMjQ1LDI4Mi4xNzcsMCwyMzUsMHMtODUuNDIzLDM4LjI0NS04NS40MjMsODUuNDIzCgkJCXYxMzEuNDUxQzE0OS41NzcsMjY0LjA1MSwxODcuODIzLDMwMi4yOTYsMjM1LDMwMi4yOTZ6Ii8+CgkJPHBhdGggZD0iTTM1MC40MjMsMTM2LjE0OHYzMGgxNXY1MC43MjZjMCw3MS45MTUtNTguNTA4LDEzMC40MjMtMTMwLjQyMywxMzAuNDIzcy0xMzAuNDIzLTU4LjUwNy0xMzAuNDIzLTEzMC40MjN2LTUwLjcyNmgxNXYtMzAKCQkJaC00NXY4MC43MjZDNzQuNTc3LDMwMC4yNzMsMTM4LjU1MSwzNjksMjIwLDM3Ni41ODlWNDQwaC05MC40NDR2MzBoMjEwLjg4OXYtMzBIMjUwdi02My40MTEKCQkJYzgxLjQ0OS03LjU4OSwxNDUuNDIzLTc2LjMxNywxNDUuNDIzLTE1OS43MTZ2LTgwLjcyNkgzNTAuNDIzeiIvPgoJPC9nPgo8L3N2Zz4K",className:`audio-recorder-mic ${(null==f?void 0:f.AudioRecorderStartSaveClass)??""}`,onClick:b?()=>V():h,"data-testid":"ar_mic",title:b?"Save recording":"Start recording"}),s.jsxs("span",{className:`audio-recorder-timer ${b?"":"display-none"} ${(null==f?void 0:f.AudioRecorderTimerClass)??""}`,"data-testid":"ar_timer",children:[Math.floor(k/60),":",String(k%60).padStart(2,"0")]}),l?s.jsx("span",{className:`audio-recorder-visualizer ${b?"":"display-none"}`,children:I&&s.jsx(o.Suspense,{fallback:s.jsx(s.Fragment,{}),children:s.jsx(u,{mediaRecorder:I,barWidth:2,gap:2,width:140,height:30,fftSize:512,maxDecibels:-10,minDecibels:-80,smoothingTimeConstant:.4})})}):s.jsxs("span",{className:`audio-recorder-status ${b?"":"display-none"} ${(null==f?void 0:f.AudioRecorderStatusClass)??""}`,children:[s.jsx("span",{className:"audio-recorder-status-dot"}),"Recording"]}),s.jsx("img",{src:w?"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pgo8IS0tIEdlbmVyYXRvcjogQWRvYmUgSWxsdXN0cmF0b3IgMTkuMC4wLCBTVkcgRXhwb3J0IFBsdWctSW4gLiBTVkcgVmVyc2lvbjogNi4wMCBCdWlsZCAwKSAgLS0+CjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0iTGF5ZXJfMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IiB5PSIwcHgiCgkgdmlld0JveD0iMCAwIDQ5NC4xNDggNDk0LjE0OCIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgNDk0LjE0OCA0OTQuMTQ4OyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+Cgk8Zz4KCQk8Zz4KCQkJPHBhdGggZD0iTTQwNS4yODQsMjAxLjE4OEwxMzAuODA0LDEzLjI4QzExOC4xMjgsNC41OTYsMTA1LjM1NiwwLDk0Ljc0LDBDNzQuMjE2LDAsNjEuNTIsMTYuNDcyLDYxLjUyLDQ0LjA0NHY0MDYuMTI0CgkJCQljMCwyNy41NCwxMi42OCw0My45OCwzMy4xNTYsNDMuOThjMTAuNjMyLDAsMjMuMi00LjYsMzUuOTA0LTEzLjMwOGwyNzQuNjA4LTE4Ny45MDRjMTcuNjYtMTIuMTA0LDI3LjQ0LTI4LjM5MiwyNy40NC00NS44ODQKCQkJCUM0MzIuNjMyLDIyOS41NzIsNDIyLjk2NCwyMTMuMjg4LDQwNS4yODQsMjAxLjE4OHoiLz4KCQk8L2c+Cgk8L2c+Cjwvc3ZnPgo=":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pgo8IS0tIEdlbmVyYXRvcjogQWRvYmUgSWxsdXN0cmF0b3IgMTkuMC4wLCBTVkcgRXhwb3J0IFBsdWctSW4gLiBTVkcgVmVyc2lvbjogNi4wMCBCdWlsZCAwKSAgLS0+CjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0iQ2FwYV8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIKCSB2aWV3Qm94PSIwIDAgNDcuNjA3IDQ3LjYwNyIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgNDcuNjA3IDQ3LjYwNzsiIHhtbDpzcGFjZT0icHJlc2VydmUiPgoJPGc+CgkJPHBhdGggZD0iTTE3Ljk5MSw0MC45NzZjMCwzLjY2Mi0yLjk2OSw2LjYzMS02LjYzMSw2LjYzMWwwLDBjLTMuNjYyLDAtNi42MzEtMi45NjktNi42MzEtNi42MzFWNi42MzFDNC43MjksMi45NjksNy42OTgsMCwxMS4zNiwwCgkJCWwwLDBjMy42NjIsMCw2LjYzMSwyLjk2OSw2LjYzMSw2LjYzMVY0MC45NzZ6Ii8+CgkJPHBhdGggZD0iTTQyLjg3Nyw0MC45NzZjMCwzLjY2Mi0yLjk2OSw2LjYzMS02LjYzMSw2LjYzMWwwLDBjLTMuNjYyLDAtNi42MzEtMi45NjktNi42MzEtNi42MzFWNi42MzEKCQkJQzI5LjYxNiwyLjk2OSwzMi41ODUsMCwzNi4yNDYsMGwwLDBjMy42NjIsMCw2LjYzMSwyLjk2OSw2LjYzMSw2LjYzMVY0MC45NzZ6Ii8+Cgk8L2c+Cjwvc3ZnPgo=",className:`audio-recorder-options ${b?"":"display-none"} ${(null==f?void 0:f.AudioRecorderPauseResumeClass)??""}`,onClick:g,title:w?"Resume recording":"Pause recording","data-testid":"ar_pause"}),s.jsx("img",{src:"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pgo8IS0tIEdlbmVyYXRvcjogQWRvYmUgSWxsdXN0cmF0b3IgMTkuMC4wLCBTVkcgRXhwb3J0IFBsdWctSW4gLiBTVkcgVmVyc2lvbjogNi4wMCBCdWlsZCAwKSAgLS0+CjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0iQ2FwYV8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIKCSB2aWV3Qm94PSIwIDAgNDYuNzM0IDQ2LjczNCIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgNDYuNzM0IDQ2LjczNDsiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8Zz4KCTxwYXRoIGQ9Ik00MS4zNDYsMEg1LjM4OEMyLjQxNywwLDAsMi40MTcsMCw1LjM4OHYzNS45NThjMCwyLjk3MSwyLjQxNyw1LjM4OCw1LjM4OCw1LjM4OGgzNS45NThjMi45NzEsMCw1LjM4OC0yLjQxNyw1LjM4OC01LjM4OAoJCVY1LjM4OEM0Ni43MzMsMi40MTcsNDQuMzE2LDAsNDEuMzQ2LDB6Ii8+CjwvZz4KPC9zdmc+Cg==",className:`audio-recorder-options ${b?"":"display-none"} ${(null==f?void 0:f.AudioRecorderDiscardClass)??""}`,onClick:()=>V(!1),title:"Discard Recording","data-testid":"ar_cancel"})]})}}}]);