(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[887],{2613:function(s,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/class",function(){return n(1632)}])},2231:function(s,e,n){"use strict";n.d(e,{Z:function(){return ClassInfoPopup}});var i=n(1309),a=n(5893),t=n(7904),l=n(7294);function ClassInfoPopup(s){var e=s.classInfo,n=s.isShow,c=s.closePopup,r=(0,i._)((0,l.useState)("en"),2),d=r[0],o=r[1];return(0,l.useEffect)(function(){o((0,t.G3)())},[]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"modal fade post-popup "+(n?"show":""),children:(0,a.jsx)("div",{className:"modal-dialog class-info-popup",role:"document",children:(0,a.jsxs)("div",{className:"modal-content",children:[(0,a.jsx)("a",{className:"close icon-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:c,children:(0,a.jsx)("svg",{className:"olymp-close-icon",children:(0,a.jsx)("use",{xlinkHref:"#olymp-close-icon"})})}),(0,a.jsx)("div",{className:"modal-header",children:(0,a.jsx)("h6",{className:"title",children:(0,t.id)(d,"class_information")})}),(0,a.jsxs)("div",{className:"modal-body",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("b",{children:[(0,t.id)(d,"name"),":"]})," ",(0,a.jsx)("span",{children:e&&e.name})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("b",{children:[(0,t.id)(d,"description"),":"]})," ",(0,a.jsxs)("span",{children:[e&&e.description,"  "]})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("b",{children:[(0,t.id)(d,"start"),":"]})," ",(0,a.jsxs)("span",{children:[e&&e.start_time," "]})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("b",{children:[(0,t.id)(d,"end"),":"]})," ",(0,a.jsxs)("span",{children:[e&&e.end_time,"  "]})]})]})]})})}),(0,a.jsx)("div",{className:"modal-backdrop fade "+(n?"show":"")})]})}},6287:function(s,e,n){"use strict";n.d(e,{Z:function(){return ListRequests}});var i=n(1309),a=n(5893),t=n(7294),l=n(1664),c=n.n(l),r=n(7324),d=n(2231),o=n(7904);function ListRequests(s){var e=s.sourceId,n=s.targetId,l=s.listAPI,m=s.updateAPI,u=s.title,h=(0,i._)((0,t.useState)("en"),2),x=h[0],f=h[1],j=(0,i._)((0,t.useState)(25),2),v=j[0];j[1];var N=(0,i._)((0,t.useState)([]),2),p=N[0],b=N[1],g=(0,i._)((0,t.useState)(1),2),_=g[0],k=g[1],S=(0,i._)((0,t.useState)(!1),2),w=S[0],C=S[1],y=(0,i._)((0,t.useState)({}),2),P=y[0],I=y[1],filter=function(s){l(e,v,s,function(e){k(s),b(e)})},processRequest=function(s,i){m(e,s,i,function(e){e.message&&b(p.filter(function(e){return e[n]!==s}))})},viewClass=function(s){var e={name:s.name,description:s.description};C(!0),I(e)};return(0,t.useEffect)(function(){f((0,o.G3)()),filter(1)},[]),(0,a.jsxs)("div",{className:"row",children:[(0,a.jsxs)("div",{className:"col col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12",children:[(0,a.jsx)("div",{className:"submenu",children:(0,a.jsx)("h3",{className:"submenu-title",children:u?(0,a.jsx)(a.Fragment,{children:u}):(0,a.jsx)(a.Fragment,{children:(0,o.id)(x,"request_management")})})}),p.map(function(s,e){return(0,a.jsxs)("div",{className:"performance-item ui-block row-flex",children:[(0,a.jsxs)("div",{className:"birthday-item inline-items item-flex",children:["user_id"==n&&(0,a.jsx)("div",{className:"author-thumb",children:(0,a.jsx)("img",{loading:"lazy",src:s.avatar,alt:"author",width:"38",height:"38"})}),(0,a.jsxs)("div",{className:"author-name",children:["user_id"==n&&(0,a.jsx)(c(),{className:"h6 author-name",href:"/profile?uid="+s.user_id,children:s.fullname}),"class_id"==n&&(0,a.jsx)("a",{className:"h6",onClick:function(){viewClass(s)},children:s.name}),(0,a.jsx)("div",{className:"birthday-date",children:s.updated_at})]})]}),(0,a.jsxs)("div",{className:"performance-item-action item-flex",children:[(0,a.jsxs)("button",{className:"btn btn-outline-primary",onClick:function(){processRequest(s[n],1)},children:[(0,a.jsx)("i",{className:"fa fa-check"})," ",(0,o.id)(x,"approve")]}),(0,a.jsxs)("button",{className:"btn btn-outline-dark",onClick:function(){processRequest(s[n],2)},children:[(0,a.jsx)("i",{className:"fa fa-times"})," ",(0,o.id)(x,"reject")]})]})]},s.class_id+"_"+s.user_id)}),0==p.length?(0,a.jsx)("div",{className:"performance-item ui-block",children:(0,a.jsx)("div",{className:"birthday-item inline-items no-content",children:(0,a.jsx)("h4",{children:(0,o.id)(x,"no_incoming_requests")})})}):(0,a.jsx)(a.Fragment,{}),(0,a.jsx)(r.Z,{currentPage:_,onNext:function(){p.length&&!(p.length<v)&&filter(_+1)},onPrev:function(){var s=_-1;s>0&&filter(s)}})]}),(0,a.jsx)(d.Z,{isShow:w,closePopup:function(){C(!1)},classInfo:P})]})}},1632:function(s,e,n){"use strict";n.r(e),n.d(e,{default:function(){return ClassDetail}});var i=n(2796),a=n(1309),t=n(5893),l=n(7294),c=n(9332),r=n(4827),d=n(6895),o=n(6366),m=n(8878),u=n(6287),h=n(9730),x=n(7324),f=n(517),j=n(9314),v=n(5766),N=n(2253),p=n(4932),b=n(1163),g=n.n(b),_=n(7904);function ListAssignmentStudent(s){var e=s.assignment,n=(0,a._)((0,l.useState)("en"),2),i=n[0],c=n[1],r=(0,a._)((0,l.useState)([]),2),d=r[0],o=r[1],u=(0,a._)((0,l.useState)(1),2),h=u[0],f=u[1],j=(0,a._)((0,l.useState)({}),2),b=j[0],k=j[1],filter=function(s){(0,m.K8)(e.aid,25,s,function(e){f(s);for(var n=0;n<e.length;n++)e[n].submissions.length?b[e[n].aid]=e[n].submissions[0].pid:b[e[n].aid]=null;o(e)})},selectVersion=function(s,e){k(function(n){return(0,p._)((0,N._)({},n),(0,v._)({},s.aid,e.target.value))})},viewPerformance=function(s){g().push("/annotation?pid="+b[s.aid])};return(0,l.useEffect)(function(){c((0,_.G3)()),filter(1)},[]),(0,t.jsxs)("div",{className:"row",children:[(0,t.jsx)("div",{className:"col col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12",children:(0,t.jsx)("div",{className:"submenu",children:(0,t.jsxs)("h3",{className:"submenu-title",children:[e.name,(0,_.id)(i,"'s")," ",(0,_.id)(i,"submission_management")]})})}),(0,t.jsxs)("div",{className:"col col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12",style:{height:"85vh",overflowY:"auto"},children:[d&&0!=d.length&&(0,t.jsxs)("div",{className:"table",children:[(0,t.jsxs)("div",{className:"table-row table-header",children:[(0,t.jsx)("div",{className:"table-cell",children:(0,_.id)(i,"student_name")}),(0,t.jsx)("div",{className:"table-cell",children:(0,_.id)(i,"submissions")}),(0,t.jsx)("div",{className:"table-cell action",style:{"max-width":"70px"}})]}),d&&d.map(function(s,e){return(0,t.jsxs)("div",{className:"table-row",children:[(0,t.jsx)("div",{className:"table-cell",children:s.fullname}),(0,t.jsx)("div",{className:"table-cell version",children:s.submissions.length?(0,t.jsx)("fieldset",{className:"form-group",children:(0,t.jsx)("select",{className:"form-select",onChange:function(e){selectVersion(s,e)},children:s.submissions.map(function(s,e){return(0,t.jsx)("option",{value:s.pid,children:s.updated_at},s.pid)})})}):(0,t.jsx)(t.Fragment,{children:(0,_.id)(i,"no_information")})}),(0,t.jsx)("div",{className:"table-cell action",style:{"max-width":"70px"},children:(0,t.jsx)("button",{className:"btn btn-outline-dark",onClick:function(){viewPerformance(s)},disabled:0==s.submissions.length,children:(0,t.jsx)("i",{className:"far fa-user-music"})})})]},s.aid)})]}),(!d||!d.length)&&(0,t.jsx)("div",{className:"performance-item ui-block",children:(0,t.jsx)("div",{className:"birthday-item inline-items no-content",children:(0,t.jsx)("h4",{children:(0,_.id)(i,"no_information")})})})]}),d&&0!=d.length&&(0,t.jsx)(x.Z,{currentPage:h,onNext:function(){d.length&&!(d.length<25)&&filter(h+1)},onPrev:function(){var s=h-1;s>0&&filter(s)}})]})}function AssignmentStudents(s){var e=s.assignment,n=s.isShow,i=s.closePopup;return(0,t.jsx)("div",{className:"modal fade width-60-popup "+(n?"show":""),children:(0,t.jsx)("div",{className:"modal-dialog window-popup",role:"document",children:(0,t.jsxs)("div",{className:"modal-content",children:[(0,t.jsx)("a",{className:"close icon-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:i,children:(0,t.jsx)("svg",{className:"olymp-close-icon",children:(0,t.jsx)("use",{xlinkHref:"#olymp-close-icon"})})}),(0,t.jsx)("div",{className:"modal-body",children:(0,t.jsx)(ListAssignmentStudent,{assignment:e})})]})})})}var k=n(2341);function ListAssignments(s){var e=s.classId,n=(0,a._)((0,l.useState)("en"),2),i=n[0],c=n[1],r=(0,a._)((0,l.useState)({}),2),d=r[0],o=r[1],u=(0,a._)((0,l.useState)(25),2),h=u[0];u[1];var v=(0,a._)((0,l.useState)([]),2),N=v[0],p=v[1],b=(0,a._)((0,l.useState)(1),2),g=b[0],S=b[1],w=(0,a._)((0,l.useState)(null),2),C=w[0],y=w[1],P=(0,a._)((0,l.useState)(!1),2),I=P[0],A=P[1],F=(0,a._)((0,l.useState)(!1),2),Z=F[0],E=F[1],q=(0,a._)((0,l.useState)(!1),2),L=q[0],R=q[1],filter=function(s,n){(0,m.Rx)(e,s,h,n,function(s){S(n),p(s)})},openAssignmentPopup=function(){A(!0)},remove=function(s){(0,m.CT)(s,function(e){e.message&&p(N.filter(function(e){return e.aid!=s}))})};return(0,l.useEffect)(function(){c((0,_.G3)());var s=(0,_.PR)();o(s),filter(s.uid,1)},[]),(0,t.jsxs)("div",{className:"row",children:[(0,t.jsxs)("div",{className:"col col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12",children:[N&&0!=N.length&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"submenu",children:[(0,t.jsx)("h3",{className:"submenu-title",children:k.S[i].assignment_management}),(0,t.jsxs)("button",{className:"btn btn-outline-dark",onClick:function(){openAssignmentPopup()},children:[(0,t.jsx)("i",{className:"far fa-plus-circle"}),"\xa0",(0,_.id)(i,"create_assignment")]})]}),(0,t.jsxs)("div",{className:"table",children:[(0,t.jsxs)("div",{className:"table-row table-header",children:[(0,t.jsx)("div",{className:"table-cell",children:k.S[i].title}),(0,t.jsx)("div",{className:"table-cell",children:k.S[i].due_date}),(0,t.jsx)("div",{className:"table-cell",children:k.S[i].last_update}),(0,t.jsx)("div",{className:"table-cell",children:k.S[i].ideal_perf}),(0,t.jsx)("div",{className:"table-cell action",children:k.S[i].action})]}),N&&N.map(function(s,e){return(0,t.jsxs)("div",{className:"table-row",children:[(0,t.jsx)("div",{className:"table-cell",children:s.name}),(0,t.jsx)("div",{className:"table-cell",children:s.due_date}),(0,t.jsx)("div",{className:"table-cell",children:s.updated_at}),(0,t.jsx)("div",{className:"table-cell version",children:s.submissions.length?(0,t.jsx)("fieldset",{className:"form-group",children:(0,t.jsx)("select",{className:"form-select",onChange:function(e){selectVersion(s,e)},children:s.submissions.map(function(s,e){return(0,t.jsx)("option",{value:s.pid,children:s.updated_at},s.pid)})})}):(0,t.jsx)(t.Fragment,{children:"Not uploaded"})}),(0,t.jsxs)("div",{className:"table-cell action",children:[(0,t.jsx)("button",{className:"btn btn-outline-dark",onClick:function(){y(s),A(!0)},children:(0,t.jsx)("i",{className:"far fa-eye"})}),(0,t.jsx)("button",{className:"btn btn-outline-dark",onClick:function(){y(s),E(!0)},children:(0,t.jsx)("i",{className:"far fa-tasks"})}),(0,t.jsx)("button",{className:"btn btn-outline-dark",onClick:function(){y(s),R(!0)},children:(0,t.jsx)("i",{className:"far fa-upload"})}),(0,t.jsx)("button",{className:"btn btn-outline-dark",onClick:function(){remove(s.aid)},children:(0,t.jsx)("i",{className:"far fa-trash"})})]})]},s.aid)})]})]}),N&&0!=N.length?(0,t.jsx)(t.Fragment,{}):(0,t.jsx)("div",{className:"performance-item ui-block",children:(0,t.jsxs)("div",{className:"birthday-item inline-items no-content",children:[(0,t.jsx)("h4",{children:k.S[i].no_assignments}),(0,t.jsx)("div",{className:"flex",style:{justifyContent:"center",marginTop:"15px"},children:(0,t.jsxs)("button",{className:"btn btn-outline-dark",onClick:function(){openAssignmentPopup()},children:[(0,t.jsx)("i",{className:"far fa-plus-circle"}),"\xa0Create Assignment"]})})]})})]}),(0,t.jsx)(x.Z,{currentPage:g,onNext:function(){N.length&&!(N.length<h)&&filter(d.uid,g+1)},onPrev:function(){var s=g-1;s>0&&filter(d.uid,s)}}),e&&(0,t.jsx)(f.Z,{isShow:I,closePopup:function(){A(!1),y(null)},assignment:C,classId:e,callback:function(){A(!1),filter(d.uid,1)}}),C&&(0,t.jsx)(j.Z,{assignment:C,isShow:L,closePopup:function(){R(!1),y(null)}}),C&&(0,t.jsx)(AssignmentStudents,{assignment:C,isShow:Z,closePopup:function(){E(!1),y(null)}})]})}var S=n(4586),w=n(1664),C=n.n(w);function ListInvitations(s){var e=s.classId,n=(0,a._)((0,l.useState)("en"),2),i=n[0],c=n[1],r=(0,a._)((0,l.useState)(25),2),d=r[0];r[1];var o=(0,a._)((0,l.useState)([]),2),u=o[0],h=o[1],f=(0,a._)((0,l.useState)(1),2),j=f[0],v=f[1],b=(0,a._)((0,l.useState)(""),2),g=b[0],k=b[1],w=(0,a._)((0,l.useState)([]),2),y=w[0],P=w[1],filter=function(s){(0,m.TR)(e,d,s,function(e){v(s),h(e)})},remove=function(s){(0,m.EN)(e,s,function(e){e.message&&h(u.filter(function(e){return e.user_id!=s}))})},inviteStudent=function(s){k(""),P([]),(0,m.B3)(e,s.uid,function(n){n.message&&h([(0,p._)((0,N._)({},s),{user_id:s.uid,class_id:e,status:0,updated_at:(0,_.Xn)()})].concat((0,S._)(u)))})};return(0,l.useEffect)(function(){c((0,_.G3)()),filter(1)},[]),(0,t.jsx)("div",{className:"row",children:(0,t.jsxs)("div",{className:"col col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12",children:[(0,t.jsx)("div",{className:"submenu",children:(0,t.jsx)("h3",{className:"submenu-title",children:(0,_.id)(i,"invitation_management")})}),(0,t.jsxs)("form",{className:"performance-form performance-list-form student-form",onSubmit:function(s){s.preventDefault()},children:[(0,t.jsx)("div",{className:"student-form-content flex",style:{padding:"10px 15px"},children:(0,t.jsxs)("div",{className:"form-group with-icon label-floating search-input-container inline-flex",children:[(0,t.jsx)("label",{className:"control-label",children:(0,_.id)(i,"invite_student_by_name")}),(0,t.jsx)("input",{className:"form-control",type:"text",value:g,placeholder:(0,_.id)(i,"search_here"),onChange:function(s){var e=s.target.value;k(e),e?(0,m.tu)(e,P):P([])}}),(0,t.jsx)("svg",{className:"olymp-magnifying-glass-icon",children:(0,t.jsx)("use",{xlinkHref:"#olymp-magnifying-glass-icon"})})]})}),0!=y.length&&(0,t.jsx)("div",{className:"student-results",children:(0,t.jsx)("div",{className:"student-results-content",children:y.map(function(s,e){return(0,t.jsxs)("div",{className:"student-results-item inline-items active",onClick:function(){inviteStudent(s)},children:[(0,t.jsx)("div",{className:"author-thumb",children:(0,t.jsx)("img",{src:s.avatar,alt:"avatar"})}),(0,t.jsx)("div",{className:"notification-event",children:(0,t.jsx)("span",{className:"h6 notification-friend",children:s.fullname})})]},e)})})})]}),u.map(function(s,e){return(0,t.jsxs)("div",{className:"performance-item ui-block row-flex",children:[(0,t.jsxs)("div",{className:"birthday-item inline-items item-flex",children:[(0,t.jsx)("div",{className:"author-thumb",children:(0,t.jsx)("img",{loading:"lazy",src:s.avatar,alt:"author",width:"38",height:"38"})}),(0,t.jsxs)("div",{className:"author-name",children:[(0,t.jsx)(C(),{className:"h6 author-name",href:"/profile?uid="+s.user_id,children:s.fullname}),(0,t.jsx)("div",{className:"birthday-date",children:s.updated_at})]}),(0,t.jsx)("div",{className:"birthday-author-name",children:(0,t.jsx)("a",{className:"h6 author-name",children:s.name})})]}),(0,t.jsxs)("div",{className:"performance-item-action item-flex",children:[(0,t.jsxs)("div",{className:"inline-items",children:[0==s.status&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("i",{className:"far fa-clock"}),"\xa0",(0,_.id)(i,"pending")]}),1==s.status&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("i",{className:"far fa-check"}),"\xa0",(0,_.id)(i,"accepted")]}),2==s.status&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("i",{className:"far fa-ban"}),"\xa0",(0,_.id)(i,"rejected")]})]}),(0,t.jsxs)("button",{className:"btn btn-outline-dark",onClick:function(){remove(s.user_id,2)},children:[(0,t.jsx)("i",{className:"fa fa-times"})," ",(0,_.id)(i,"remove")]})]})]},s.class_id+"_"+s.user_id)}),0==u.length?(0,t.jsx)("div",{className:"performance-item ui-block",children:(0,t.jsx)("div",{className:"birthday-item inline-items no-content",children:(0,t.jsx)("h4",{children:(0,_.id)(i,"no_sent_invitations")})})}):(0,t.jsx)(t.Fragment,{}),(0,t.jsx)(x.Z,{currentPage:j,onNext:function(){u.length&&!(u.length<d)&&filter(j+1)},onPrev:function(){var s=j-1;s>0&&filter(s)}})]})})}function ClassDetail(s){(0,i._)(s);var e=(0,a._)((0,l.useState)("en"),2),n=e[0],x=e[1],f=(0,a._)((0,l.useState)({}),2),j=f[0],v=f[1],N=(0,a._)((0,l.useState)("students"),2),p=N[0],b=N[1],g=(0,c.useSearchParams)().get("cid");return(0,l.useEffect)(function(){x((0,_.G3)()),g&&(0,m.ll)(g,v)},[]),(0,t.jsxs)("div",{className:"my_class",children:[(0,t.jsx)(r.Z,{}),(0,t.jsx)(o.Z,{menuId:"my-class"}),(0,t.jsx)("div",{className:"header-spacer"}),(0,t.jsx)("div",{className:"container min-height-600",children:(0,t.jsxs)("div",{className:"fix-left-container",children:[(0,t.jsx)("div",{className:"class-action-container",children:(0,t.jsxs)("div",{className:"row",children:[(0,t.jsxs)("div",{className:"class-action-title col col-xl-6 col-lg-6 col-md-6 col-sm-12 col-12",children:[(0,t.jsxs)("h3",{className:"class-name",children:[k.S[n].class," - ",j.name]}),(0,t.jsxs)("span",{children:["(",j.start_time?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("span",{children:[(0,t.jsxs)("b",{children:[(0,_.id)(n,"start"),":"]})," ",j.start_time.slice(0,10)]}),"\xa0",(0,t.jsx)("span",{children:j.end_time?(0,t.jsxs)("span",{children:["\xa0",(0,t.jsx)("i",{className:"fas fa-long-arrow-alt-right"}),"\xa0\xa0",(0,t.jsxs)("b",{children:[(0,_.id)(n,"end"),":"]})," ",j.end_time.slice(0,10)]}):""})]}):(0,t.jsx)(t.Fragment,{children:(0,t.jsx)("span",{children:(0,_.id)(n,"no_information")})}),")"]})]}),(0,t.jsx)("div",{className:"col col-xl-6 col-lg-6 col-md-6 col-sm-12 col-12",children:(0,t.jsxs)("ul",{className:"class-action",children:[(0,t.jsx)("li",{className:"class-action-item "+("students"==p?"active":""),children:(0,t.jsx)("button",{className:"btn btn-outline-dark",onClick:function(){b("students")},children:(0,t.jsx)("i",{className:"far fa-users"})})}),(0,t.jsx)("li",{className:"class-action-item "+("assignments"==p?"active":""),children:(0,t.jsx)("button",{className:"btn btn-outline-dark",onClick:function(){b("assignments")},children:(0,t.jsx)("i",{className:"far fa-tasks"})})}),(0,t.jsx)("li",{className:"class-action-item "+("invitations"==p?"active":""),children:(0,t.jsx)("button",{className:"btn btn-outline-dark",onClick:function(){b("invitations")},children:(0,t.jsx)("i",{className:"far fa-paper-plane"})})}),(0,t.jsx)("li",{className:"class-action-item "+("requests"==p?"active":""),children:(0,t.jsx)("button",{className:"btn btn-outline-dark",onClick:function(){b("requests")},children:(0,t.jsx)("i",{className:"far fa-envelope-open-text"})})})]})})]})}),"students"==p&&(0,t.jsx)(h.Z,{classId:g,invite:function(){b("invitations")},createdUserId:j.created_user_id}),"assignments"==p&&(0,t.jsx)(ListAssignments,{classId:g}),"requests"==p&&(0,t.jsx)(u.Z,{sourceId:g,targetId:"user_id",listAPI:m.pU,updateAPI:m.WN}),"invitations"==p&&(0,t.jsx)(ListInvitations,{classId:g})]})}),(0,t.jsx)(d.Z,{pageNum:3})]})}}},function(s){s.O(0,[571,424,332,349,945,980,843,774,888,179],function(){return s(s.s=2613)}),_N_E=s.O()}]);