(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[521],{1012:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/about",function(){return n(1148)}])},2641:function(e,t,n){"use strict";n.d(t,{Z:function(){return ProfileIntro}});var i=n(2253),a=n(4932),s=n(1309),l=n(5893),c=n(7294),r=n(8878),d=n(7904);function ProfileIntro(e){var t=e.userId,n=e.editMode,o=(0,s._)((0,c.useState)("en"),2),u=o[0],m=o[1],f=(0,s._)((0,c.useState)({}),2),h=(f[0],f[1]),x=(0,s._)((0,c.useState)({}),2),j=x[0],b=x[1],N=(0,s._)((0,c.useState)(!1),2),v=N[0],g=N[1];return(0,c.useEffect)(function(){m((0,d.G3)());var e=(0,d.PR)();h(e),e&&e.uid==t?b(e):(0,r.Le)(t,b)},[]),(0,l.jsxs)("div",{className:"ui-block",children:[(0,l.jsxs)("div",{className:"ui-block-title",children:[(0,l.jsx)("h6",{className:"title inline-item",children:(0,d.id)(u,"profile_intro")}),n&&(0,l.jsx)("button",{className:"btn btn-primary update-button",onClick:function(){g(!0)},children:(0,l.jsx)("i",{className:"far fa-pencil"})})]}),(0,l.jsx)("div",{className:"ui-block-content",children:v?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("textarea",{className:"edit-content",value:j.description,onChange:function(e){b((0,a._)((0,i._)({},j),{description:e.target.value}))}}),(0,l.jsx)("div",{className:"flex",style:{justifyContent:"right"},children:(0,l.jsx)("button",{className:"btn btn-primary",onClick:function(){(0,r.pp)({user_id:t,description:j.description},function(e){e.message&&((0,d.av)(j),g(!1))})},children:(0,d.id)(u,"update")})})]}):(0,l.jsx)(l.Fragment,{children:j.description?(0,l.jsx)(l.Fragment,{children:j.description}):(0,l.jsx)(l.Fragment,{children:(0,d.id)(u,"no_information")})})})]})}},1148:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return About}});var i=n(1309),a=n(5893),s=n(7294),l=n(9332),c=n(4827),r=n(6895),d=n(9541),o=n(7904),u=n(6366),m=n(2641),f=n(4586),h=n(8878);function ProfileDetail(e){var t=e.userId,n=e.editMode,l=(0,i._)((0,s.useState)("en"),2),c=l[0],r=l[1],d=(0,i._)((0,s.useState)({}),2),u=(d[0],d[1]),m=(0,i._)((0,s.useState)({}),2),x=(m[0],m[1]),j=(0,i._)((0,s.useState)([]),2),b=j[0],N=j[1],load=function(){(0,h.z$)(t,function(e){e.data&&N(e.data)})},handleHeaderChange=function(e,t){var n=(0,f._)(b);n[t].header=e,N(n)},handleContentChange=function(e,t){var n=(0,f._)(b);n[t].content=e,N(n)},update=function(e){var n=b[e],i={header:n.header,content:n.content,user_id:t},a=h.u7;n.uid&&(a=h.cZ,i.uid=n.uid),a(i,function(e){e.message&&load()})},deleteItem=function(e,t){if(e.uid)(0,h.Yl)(e.uid,function(t){t.message&&N(b.filter(function(t){return t.uid!=e.uid}))});else{var n=(0,f._)(b);n.splice(t,1),N(n)}};return(0,s.useEffect)(function(){r((0,o.G3)());var e=(0,o.PR)();u(e),e&&e.uid==t?x(e):(0,h.Le)(t,x),load()},[]),(0,a.jsxs)(a.Fragment,{children:[0!=b.length&&b.map(function(e,t){return(0,a.jsxs)("div",{className:"ui-block",children:[(0,a.jsxs)("div",{className:"ui-block-title list-info",children:[e.editable?(0,a.jsxs)("div",{className:"form-group label-floating flex "+(e.header?"":"is-empty "),children:[(0,a.jsx)("label",{className:"control-label",children:(0,o.id)(c,"header_title")}),(0,a.jsx)("input",{className:"form-control",type:"text",value:e.header,onChange:function(e){handleHeaderChange(e.target.value,t)}})]}):(0,a.jsx)("h6",{className:"title",children:e.header}),n&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("button",{className:"btn btn-primary update-button",onClick:function(){var e=(0,f._)(b);e[t].editable=!0,N(e)},children:(0,a.jsx)("i",{className:"far fa-pencil"})}),(0,a.jsx)("button",{className:"btn btn-outline-dark update-button delete-button",onClick:function(){deleteItem(e,t)},children:(0,a.jsx)("i",{className:"far fa-trash"})})]})]}),(0,a.jsx)("div",{className:"ui-block-content",children:n&&e.editable?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("textarea",{className:"edit-content",value:e.content,onChange:function(e){handleContentChange(e.target.value,t)}}),(0,a.jsx)("div",{className:"flex",style:{justifyContent:"right"},children:(0,a.jsx)("button",{className:"btn btn-primary",onClick:function(){update(t)},children:e.uid?"Update":"Create"})})]}):(0,a.jsx)(a.Fragment,{children:e.content})})]},t)}),n&&(0,a.jsx)("div",{className:"ui-block",children:(0,a.jsx)("div",{className:"ui-block-content flex",style:{alignItems:"center",justifyContent:"center"},children:(0,a.jsxs)("button",{className:"btn btn-primary",style:{marginBottom:0},onClick:function(){N((0,f._)(b).concat([{user_id:t,header:"",content:"",editable:!0}]))},children:[(0,a.jsx)("i",{className:"far fa-plus"}),"\xa0",(0,o.id)(c,"add_information_item")]})})})]})}function About(){var e=(0,l.useSearchParams)(),t=e.get("mode"),n=e.get("uid"),f=(0,i._)((0,s.useState)(null),2),h=f[0],x=f[1];return(0,s.useEffect)(function(){n?x(n):x((0,o.VN)())},[]),(0,a.jsxs)("div",{className:"my-page",color:"#f5f5f5",children:[(0,a.jsx)(c.Z,{}),(0,a.jsx)(u.Z,{menuId:"profile"}),(0,a.jsx)("div",{className:"header-spacer"}),(0,a.jsx)("div",{className:"container",children:(0,a.jsx)("div",{className:"row",children:(0,a.jsx)("div",{className:"col col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12",children:h&&(0,a.jsx)(d.Z,{userId:h,editable:"edit"==t})})})}),(0,a.jsx)("div",{className:"container min-height-600",children:(0,a.jsxs)("div",{className:"row",children:[(0,a.jsx)("div",{className:"col col-xl-8 order-xl-2 col-lg-8 order-lg-2 col-md-12 order-md-1 col-sm-12 col-12",children:h&&(0,a.jsx)(ProfileDetail,{userId:h,editMode:"edit"==t})}),(0,a.jsx)("div",{className:"col col-xl-4 order-xl-1 col-lg-4 order-lg-1 col-md-12 order-md-2 col-sm-12 col-12",children:h&&(0,a.jsx)(m.Z,{userId:h,editMode:"edit"==t})})]})}),(0,a.jsx)(r.Z,{pageNum:6})]})}}},function(e){e.O(0,[571,424,332,304,980,541,774,888,179],function(){return e(e.s=1012)}),_N_E=e.O()}]);