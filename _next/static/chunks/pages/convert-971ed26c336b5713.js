(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[951],{7964:function(e,n,o){(window.__NEXT_P=window.__NEXT_P||[]).push(["/convert",function(){return o(5625)}])},5625:function(e,n,o){"use strict";o.r(n),o.d(n,{default:function(){return Convert}});var i=o(1309),t=o(5893),l=o(7294);function Convert(){var e=(0,i._)((0,l.useState)(!1),2),n=e[0],r=e[1],a=(0,i._)((0,l.useState)(""),2),c=a[0],d=a[1],handleDownload=function(e,n){var o=new Blob([e],{type:"text/plain"}),i=URL.createObjectURL(o),t=document.createElement("a");t.href=i,t.download=n||"download.txt",document.body.appendChild(t),t.click(),document.body.removeChild(t),URL.revokeObjectURL(i)},downloadFile=function(e){handleDownload(e,"output.mei")},initView=function(){r(!1)};return(0,l.useEffect)(function(){r(!0),window.verovio?(window.verovioToolkit=new window.verovio.toolkit,setTimeout(initView,100)):Promise.all([o.e(752),o.e(714),o.e(817),o.e(565)]).then(o.t.bind(o,393,23)).then(function(e){window.verovio=e;var n=setInterval(function(){try{window.verovioToolkit=new window.verovio.toolkit,clearInterval(n),initView()}catch(e){console.log("Can't init verovio",e)}},50)})},[]),(0,t.jsxs)("div",{className:"container",children:[(0,t.jsx)("div",{className:"loading",style:n?{display:"flex"}:{display:"none"},children:(0,t.jsx)("img",{src:"svg-icons/spinner.svg"})}),(0,t.jsxs)("div",{className:"row",children:[(0,t.jsx)("div",{className:"col col-12",children:(0,t.jsx)("input",{type:"file",onChange:function(e){var n=e.target.files[0];if(n){var o=new FileReader;o.onload=function(e){d(e.target.result)},o.readAsText(n)}}})}),(0,t.jsx)("button",{className:"btn btn-primary",onClick:function(){window.verovioToolkit.loadData(c),downloadFile(window.verovioToolkit.getMEI())},children:"Convert"})]})]})}}},function(e){e.O(0,[774,888,179],function(){return e(e.s=7964)}),_N_E=e.O()}]);